<html>
  <head>
    <meta charset="utf-8">
    <meta http-eqiv="Content-Type" content="text/html; charset=utf-8">
    <link rel="stylesheet" type="text/css" href="../lib/style.css">
    <title>Sagittarius Users' Reference</title>
  </head>
  <body>
    <p node-type="paragraph" class="navigation-container">
      <a href="./section6.html">Sagittarius extensions</a>
      <a href="../sagittarius-online-ref.html">Top</a>
      <a href="./section62.html">(sagittarius control) - control library</a>
    </p>
    <section node-type="section">
      <h2 node-type="header-2">
        <a name="lib.sagittarius">(sagittarius) - builtin library</a>
      </h2>
      <div node-type="define" class="define">
        <span>Library</span>
        <a name="(sagittarius)_113">
          <span>(sagittarius)</span>
        </a>
      </div>
      <p node-type="paragraph">This library has Sagittarius specific functionalities such as extra file
system functions and so.</p>
      <section node-type="section">
        <h3 node-type="header-3">
          <a name="lib.sagittarius.builtin.syntax">Builtin Syntax</a>
        </h3>
        <div node-type="define" class="define">
          <span>Syntax</span>
          <a name="define-constant_72">
            <span>define-constant</span>
            <span>
              <i node-type="i">variable</i>
            </span>
            <span>
              <i node-type="i">expression</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">Similar to the <code node-type="code">define</code> however the <code node-type="code">define-constant</code> binds
<i node-type="i">variable</i> as a constant value and the compiler try to fold it if it is
constant value i.e. literal string, literal vector, literal number and so.</p>
        <p node-type="paragraph">If the defined <i node-type="i">variable</i> is being overwritten, the VM shows a warning
message on the standard error. If overwriten is forbidden by
<code node-type="code">#!no-overwite</code> or other directives, then compiler raises an error.</p>
        <div node-type="define" class="define">
          <span>Syntax</span>
          <a name="receive_63">
            <span>receive</span>
            <span>
              <i node-type="i">formals</i>
            </span>
            <span>
              <i node-type="i">expression</i>
            </span>
            <span>
              <i node-type="i">body</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">[SRFI-8] <i node-type="i">formals</i> and <i node-type="i">body</i> are the same as <code node-type="code">lambda</code>.
<i node-type="i">Expression</i> must be an expression.</p>
        <p node-type="paragraph"><code node-type="code">receive</code> binds values which are generated by <i node-type="i">expressions</i> to
<i node-type="i">formals</i>.</p>
        <p node-type="paragraph">The expressions in <i node-type="i">body</i> are evaluated sequentially in the extended
environment. The results of the last expression in the body are the values of
the <code node-type="code">receive</code>-expression.</p>
        <div node-type="define" class="define">
          <span>Syntax</span>
          <a name="cond-expand_127">
            <span>cond-expand</span>
            <span>
              <i node-type="i">clauses</i>
            </span>
            <span>
              <i node-type="i">...</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">[R7RS][SRFI-0] Compile time condition. The <code node-type="code">cond-expand</code> resolves
platform dependencies such as C's <code node-type="code">#ifdef</code> preprocessor.</p>
        <p node-type="paragraph"><i node-type="i">clauses</i> must be one of these forms:</p>
        <ul node-type="bullet-list">
          <li>
            <p node-type="paragraph">(<i node-type="i">feature-identifier</i> <i node-type="i">body</i> ...)</p>
          </li>
          <li>
            <p node-type="paragraph">((<code node-type="code">version</code> (<i node-type="i">compare</i> _version)) <i node-type="i">body</i> ...) <since node-type="since">
              <span node-type="since-version" version="0.9.12">0.9.12</span>
            </since></p>
          </li>
          <li>
            <p node-type="paragraph">((<code node-type="code">library</code> <i node-type="i">library-name</i>) <i node-type="i">body</i> ...)</p>
          </li>
          <li>
            <p node-type="paragraph">((<code node-type="code">and</code> <i node-type="i">feature-identifier</i> ...) <i node-type="i">body</i> ...)</p>
          </li>
          <li>
            <p node-type="paragraph">((<code node-type="code">or</code> <i node-type="i">feature-identifier</i> ...) <i node-type="i">body</i> ...)</p>
          </li>
          <li>
            <p node-type="paragraph">(<code node-type="code">not</code> <i node-type="i">feature-identifier</i>)</p>
          </li>
        </ul>
        <p node-type="paragraph"><code node-type="code">version</code> clause checks the Sagittarius version. The <i node-type="i">compare</i> must be
one of <code node-type="code">&gt;</code>, <code node-type="code">&gt;=</code>, <code node-type="code">=</code>, <code node-type="code">&lt;=</code> or <code node-type="code">&lt;</code>. And <i node-type="i">version</i> must be a string which
represents the target version.<br>This feature is since <code node-type="code">0.9.12</code> and provides <code node-type="code">cond-expand.version</code> feature
identifier.<br>This is Sagittarius' extension. See the below example how to use it.</p>
        <p node-type="paragraph"><code node-type="code">library</code> clause searches the given <i node-type="i">library-name</i> and if it is found,
then compiles <i node-type="i">body</i>.</p>
        <p node-type="paragraph"><code node-type="code">and</code>, <code node-type="code">or</code> and <code node-type="code">not</code> are the same as usual syntax.</p>
        <p node-type="paragraph">Users can check possible _feature-identifier_s via <code node-type="code">cond-features</code>procedure.</p>
        <pre lang="scheme" node-type="block"><code>;; version clause example
(cond-expand
 ;; For backward compatible way among other Sagittarius versions
 ((and cond-expand.version (version (&gt;= "0.9.12")))
  ;; Code for higher than or equal to the version 0.9.12
  )
 ;; In case other Scheme implementations support the same thing
 ((and sagittarius cond-expand.version (version (&gt;= "0.9.12")))
  ;; Sagittarius 0.9.12 or higher specific code
  )
 (else
  ;; Version lower than 0.9.12 code
  ))
</code></pre>
      </section>
      <section node-type="section">
        <h3 node-type="header-3">
          <a name="Macro-transformer">Macro transformer</a>
        </h3>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="er-macro-transformer_32">
            <span>er-macro-transformer</span>
            <span>
              <i node-type="i">proc</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph"><i node-type="i">Proc</i> must be a procedure which accepts 3 arguments, <i node-type="i">form</i>,
<i node-type="i">rename</i> and <i node-type="i">compare</i>.</p>
        <dl node-type="dlist">
          <dt>
            <i node-type="i">form</i>
          </dt>
          <dd>
            <p node-type="paragraph">The input form of this macro. It is mere s-expression.</p>
          </dd>
          <dt>
            <i node-type="i">rename</i>
          </dt>
          <dd>
            <p node-type="paragraph">A procedure. It takes an object as its argument and
convert it to a syntax object. The procedure is similar with
<code node-type="code">datum-&gt;syntax</code>, it doesn't require template identifier.</p>
          </dd>
          <dt>
            <i node-type="i">compare</i>
          </dt>
          <dd>
            <p node-type="paragraph">A procedure. It takes 2 arguments and compares if they
are the same object in sense of <code node-type="code">free-identifier=?</code>. If the given
arguments are list or vector, then the procedure checks its elements.</p>
          </dd>
        </dl>
        <p node-type="paragraph">The <code node-type="code">er-macro-transformer</code> returns explicit renaming macro transformer, so
you can write both hygine and non-hygine macro with it. For example:</p>
        <div node-type="block" class="codeblock">
          <pre lang="scheme" node-type="block"><code>(define-syntax loop
  (er-macro-transformer
   (lambda (form rename compare)
     (let ((body (cdr form)))
       `(,(rename 'call/cc)
	 (,(rename 'lambda) (break)
	  (,(rename 'let) ,(rename 'f) () ,@body (,(rename 'f)))))))))

(let ((n 3) (ls '()))
  (loop
    (if (= n 0) (break ls))
    (set! ls (cons 'a ls))
    (set! n (- n 1))))
</code></pre>
          <span />
          <span>(a a a)</span>
        </div>
        <p node-type="paragraph" />
        <p node-type="paragraph">This example has the same functionality as the example written in
<code node-type="code">datum-&gt;syntax</code> description. The basic of <code node-type="code">er-macro-transformer</code> is
the opposite way of the <code node-type="code">syntax-case</code>. The <code node-type="code">syntax-case</code> always makes
macro hygine, however the <code node-type="code">er-macro-transformer</code> can make macro hygine.
Moreover, if you do not use <i node-type="i">rename</i>, it always makes it non-hygine.</p>
      </section>
      <section node-type="section">
        <h3 node-type="header-3">
          <a name="Arithmetic-operations">Arithmetic operations</a>
        </h3>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="+._1">
            <span>+.</span>
            <span>
              <i node-type="i">z</i>
            </span>
            <span>
              <i node-type="i">...</i>
            </span>
          </a>
        </div>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="*._1">
            <span>*.</span>
            <span>
              <i node-type="i">z</i>
            </span>
            <span>
              <i node-type="i">...</i>
            </span>
          </a>
        </div>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="-._3">
            <span>-.</span>
            <span>
              <i node-type="i">z</i>
            </span>
            <span>
              <i node-type="i">...</i>
            </span>
          </a>
        </div>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="-._2">
            <span>-.</span>
            <span>
              <i node-type="i">z1</i>
            </span>
            <span>
              <i node-type="i">z2</i>
            </span>
            <span>
              <i node-type="i">...</i>
            </span>
          </a>
        </div>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="/._3">
            <span>/.</span>
            <span>
              <i node-type="i">z</i>
            </span>
            <span>
              <i node-type="i">...</i>
            </span>
          </a>
        </div>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="/._2">
            <span>/.</span>
            <span>
              <i node-type="i">z1</i>
            </span>
            <span>
              <i node-type="i">z2</i>
            </span>
            <span>
              <i node-type="i">...</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">The same as <code node-type="code">+</code>, <code node-type="code">*</code>, <code node-type="code">-</code> and <code node-type="code">/</code>. The difference is
these procedures converts given arguments inexact number.</p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="mod-inverse_392">
            <span>mod-inverse</span>
            <span>
              <i node-type="i">x</i>
            </span>
            <span>
              <i node-type="i">m</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph"><i node-type="i">x</i> and <i node-type="i">m</i> must be exact integer.</p>
        <p node-type="paragraph">Returns <code node-type="code">_x_ ^ -1 mod _m_</code></p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="mod-expt_390">
            <span>mod-expt</span>
            <span>
              <i node-type="i">x</i>
            </span>
            <span>
              <i node-type="i">e</i>
            </span>
            <span>
              <i node-type="i">m</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph"><i node-type="i">x</i>, <i node-type="i">e</i> and <i node-type="i">m</i> must be exact integer.</p>
        <p node-type="paragraph">Returns <code node-type="code">_x_ ^ _e_ mod _m_</code></p>
      </section>
      <section node-type="section">
        <h3 node-type="header-3">
          <a name="File-system-operations">File system operations</a>
        </h3>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="file-size-in-bytes_22">
            <span>file-size-in-bytes</span>
            <span>
              <i node-type="i">filename</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">Returns file size of filename in bytes. If filename does not exist, it
raises <code node-type="code">&amp;i/o</code> condition.</p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="file-regular?_21">
            <span>file-regular?</span>
            <span>
              <i node-type="i">filename</i>
            </span>
          </a>
        </div>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="file-directory?_15">
            <span>file-directory?</span>
            <span>
              <i node-type="i">filename</i>
            </span>
          </a>
        </div>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="file-symbolic-link?_26">
            <span>file-symbolic-link?</span>
            <span>
              <i node-type="i">filename</i>
            </span>
          </a>
        </div>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="file-readable?_20">
            <span>file-readable?</span>
            <span>
              <i node-type="i">filename</i>
            </span>
          </a>
        </div>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="file-writable?_27">
            <span>file-writable?</span>
            <span>
              <i node-type="i">filename</i>
            </span>
          </a>
        </div>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="file-executable?_17">
            <span>file-executable?</span>
            <span>
              <i node-type="i">filename</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">Returns file type or permission of given <i node-type="i">filename</i>.</p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="file-stat-ctime_24">
            <span>file-stat-ctime</span>
            <span>
              <i node-type="i">filename</i>
            </span>
          </a>
        </div>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="file-stat-mtime_25">
            <span>file-stat-mtime</span>
            <span>
              <i node-type="i">filename</i>
            </span>
          </a>
        </div>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="file-stat-atime_23">
            <span>file-stat-atime</span>
            <span>
              <i node-type="i">filename</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">Returns file statistics time in nano sec.</p>
        <p node-type="paragraph">The <code node-type="code">file-stat-ctime</code> procedure returns last change time of <i node-type="i">filename</i>.</p>
        <p node-type="paragraph">The <code node-type="code">file-stat-mtime</code> returns last modified time of <i node-type="i">filename</i>.</p>
        <p node-type="paragraph">The <code node-type="code">file-stat-atime</code> returns last accesse time of <i node-type="i">filename</i>.</p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="change-file-timestamp!_45">
            <span>change-file-timestamp!</span>
            <span>
              <i node-type="i">filename</i>
            </span>
            <span>
              <i node-type="i">atime</i>
            </span>
            <span>
              <i node-type="i">mtime</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">Changes given <i node-type="i">filename</i>'s access time and modify time.</p>
        <p node-type="paragraph"><i node-type="i">atime</i> specifies the access time of the <i node-type="i">filename</i>.</p>
        <p node-type="paragraph"><i node-type="i">mtime</i> specifies the modify time of the <i node-type="i">filename</i>.</p>
        <p node-type="paragraph">If <i node-type="i">atime</i> and/or <i node-type="i">mtime</i> are time object, then the
setting timestamp is the absolute time represented by the arguments.</p>
        <p node-type="paragraph">If <i node-type="i">atime</i> and/or <i node-type="i">mtime</i> are real number, then the
setting timestamp is the difference of the arguments from current time.</p>
        <p node-type="paragraph">If <i node-type="i">atime</i> and/or <i node-type="i">mtime</i> are #f, then the timestamp is intact.</p>
        <p node-type="paragraph">If <i node-type="i">atime</i> and/or <i node-type="i">mtime</i> are true value other then time or real
number, then the timestamp is set to current time.</p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="change-file-mode_44">
            <span>change-file-mode</span>
            <span>
              <i node-type="i">filename</i>
            </span>
            <span>
              <i node-type="i">mode</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">Changes given <i node-type="i">filename</i>'s file mode.</p>
        <p node-type="paragraph"><i node-type="i">mode</i> must be a fixnum encoded with POSIX file permission.</p>
        <p node-type="paragraph">NOTE: On Windows, only the owner permission is considered.</p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="create-symbolic-link_173">
            <span>create-symbolic-link</span>
            <span>
              <i node-type="i">old-filename</i>
            </span>
            <span>
              <i node-type="i">new-filename</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">Creates symbolic link of <i node-type="i">old-filename</i> as <i node-type="i">new-filename</i>.</p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="rename-file_117">
            <span>rename-file</span>
            <span>
              <i node-type="i">old-filename</i>
            </span>
            <span>
              <i node-type="i">new-filename</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">Renames given <i node-type="i">old-filename</i> to <i node-type="i">new-filename</i>.</p>
        <p node-type="paragraph">If <i node-type="i">old-filename</i> does not exist, it raises <code node-type="code">&amp;i/o</code>.</p>
        <p node-type="paragraph">If <i node-type="i">new-filename</i> exists, it overwrite the existing file.</p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="create-directory_167">
            <span>create-directory</span>
            <span>
              <i node-type="i">path</i>
            </span>
          </a>
        </div>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="delete-directory_102">
            <span>delete-directory</span>
            <span>
              <i node-type="i">path</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">Creates/deletes given directory. If it fails, it raises condition
<code node-type="code">&amp;i/o</code>.</p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="read-directory_32">
            <span>read-directory</span>
            <span>
              <i node-type="i">path</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">Reads directory and returns contents as a string list. If <i node-type="i">path</i> does
not exist, it returns #f.</p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="copy-file_154">
            <span>copy-file</span>
            <span>
              <i node-type="i">src</i>
            </span>
            <span>
              <i node-type="i">dst</i>
            </span>
            <span>
              <i node-type="i">:optional</i>
            </span>
            <span>
              <i node-type="i">overwrite</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph"><i node-type="i">src</i> and <i node-type="i">dst</i> must be string and <i node-type="i">src</i> must indicate
existing file path.</p>
        <p node-type="paragraph">Copies given <i node-type="i">src</i> file to <i node-type="i">dst</i> and returns #t if it's copied otherwise
#f.</p>
        <p node-type="paragraph">If optional argument <i node-type="i">overwrite</i> is #t then it will over write the file even
if it exists.</p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="current-directory_187">
            <span>current-directory</span>
            <span>
              <i node-type="i">:optional</i>
            </span>
            <span>
              <i node-type="i">path</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">Returns current working directory.</p>
        <p node-type="paragraph">If optional argument <i node-type="i">path</i> is given, the <code node-type="code">current-directory</code> sets
current working directory to <i node-type="i">path</i> and returns unspecified value.</p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="set-current-directory_35">
            <span>set-current-directory</span>
            <span>
              <i node-type="i">path</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">Sets current working directory to <i node-type="i">path</i>.</p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="build-path_107">
            <span>build-path</span>
            <span>
              <i node-type="i">path1</i>
            </span>
            <span>
              <i node-type="i">path2</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph"><i node-type="i">path1</i> and <i node-type="i">path2</i> must be string.</p>
        <p node-type="paragraph">Concatenate given parameter with platform dependent path separator.</p>
      </section>
      <section node-type="section">
        <h3 node-type="header-3">
          <a name="Hashtables">Hashtables</a>
        </h3>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="make-equal-hashtable_147">
            <span>make-equal-hashtable</span>
            <span>
              <i node-type="i">:optional</i>
            </span>
            <span>
              <i node-type="i">k</i>
            </span>
            <span>
              <i node-type="i">weakness</i>
            </span>
          </a>
        </div>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="make-string-hashtable_290">
            <span>make-string-hashtable</span>
            <span>
              <i node-type="i">:optional</i>
            </span>
            <span>
              <i node-type="i">k</i>
            </span>
            <span>
              <i node-type="i">weakness</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">Creates a hashtable.</p>
        <p node-type="paragraph">The same as <code node-type="code">make-eq-hashtable</code> and
<code node-type="code">make-eqv-hashtable</code>. It uses <code node-type="code">equal?</code> or <code node-type="code">string=?</code> as
comparing procedure, respectively.</p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="hashtable-values_28">
            <span>hashtable-values</span>
            <span>
              <i node-type="i">hashtable</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">Returns all <i node-type="i">hashtable</i>'s values. This procedure is for consistancy of
<code node-type="code">hashtable-keys</code>.</p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="hashtable-keys-list_20">
            <span>hashtable-keys-list</span>
            <span>
              <i node-type="i">hashtable</i>
            </span>
          </a>
        </div>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="hashtable-values-list_29">
            <span>hashtable-values-list</span>
            <span>
              <i node-type="i">hashtable</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">Returns given <i node-type="i">hashtable</i>'s <i node-type="i">keys</i> or <i node-type="i">values</i>, respectively.</p>
        <p node-type="paragraph">The R6RS required procedure <code node-type="code">hashtable-keys</code> and <code node-type="code">hashtable-values</code>are implemented with these procedures.</p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="hashtable-type_26">
            <span>hashtable-type</span>
            <span>
              <i node-type="i">hashtable</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">Returns <i node-type="i">hashtable</i>'s hash type as a symbol. The possible return
values are <code node-type="code">eq</code>, <code node-type="code">eqv</code>, <code node-type="code">equal</code>, <code node-type="code">string</code> and
<code node-type="code">general</code>.</p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="hashtable-weakness_30">
            <span>hashtable-weakness</span>
            <span>
              <i node-type="i">hashtable</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">Returns <i node-type="i">hashtable</i>'s hash weakness as a symbol if the given
<i node-type="i">hashtable</i> is weak hashtable, otherwise #f. The possible return values are
<code node-type="code">key</code>, <code node-type="code">value</code> and <code node-type="code">both</code>.</p>
      </section>
      <section node-type="section">
        <h3 node-type="header-3">
          <a name="IO">I/O</a>
        </h3>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="port-closed?_114">
            <span>port-closed?</span>
            <span>
              <i node-type="i">port</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">Returns #t if given <i node-type="i">port</i> is closed, otherwise #f.</p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="put-u16_179">
            <span>put-u16</span>
            <span>
              <i node-type="i">out</i>
            </span>
            <span>
              <i node-type="i">v</i>
            </span>
            <span>
              <i node-type="i">endian</i>
            </span>
          </a>
        </div>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="put-s16_173">
            <span>put-s16</span>
            <span>
              <i node-type="i">out</i>
            </span>
            <span>
              <i node-type="i">v</i>
            </span>
            <span>
              <i node-type="i">endian</i>
            </span>
          </a>
        </div>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="put-u32_181">
            <span>put-u32</span>
            <span>
              <i node-type="i">out</i>
            </span>
            <span>
              <i node-type="i">v</i>
            </span>
            <span>
              <i node-type="i">endian</i>
            </span>
          </a>
        </div>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="put-s32_175">
            <span>put-s32</span>
            <span>
              <i node-type="i">out</i>
            </span>
            <span>
              <i node-type="i">v</i>
            </span>
            <span>
              <i node-type="i">endian</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph"><i node-type="i">out</i> must be binary output port. <i node-type="i">endian</i> must be a value
returned from <code node-type="code">endianness</code> macro.</p>
        <p node-type="paragraph">Write <i node-type="i">v</i> to <i node-type="i">out</i> as unsigned/signed 16/32 bit integer.</p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="get-u16_63">
            <span>get-u16</span>
            <span>
              <i node-type="i">in</i>
            </span>
            <span>
              <i node-type="i">endian</i>
            </span>
          </a>
        </div>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="get-s16_54">
            <span>get-s16</span>
            <span>
              <i node-type="i">in</i>
            </span>
            <span>
              <i node-type="i">endian</i>
            </span>
          </a>
        </div>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="get-u32_65">
            <span>get-u32</span>
            <span>
              <i node-type="i">in</i>
            </span>
            <span>
              <i node-type="i">endian</i>
            </span>
          </a>
        </div>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="get-s32_56">
            <span>get-s32</span>
            <span>
              <i node-type="i">in</i>
            </span>
            <span>
              <i node-type="i">endian</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph"><i node-type="i">in</i> must be binary input port. <i node-type="i">endian</i> must be a value
returned from <code node-type="code">endianness</code> macro.</p>
        <p node-type="paragraph">Read a number from <i node-type="i">in</i> as unsigned/signed 16/32.</p>
        <p node-type="paragraph">NOTE: above <code node-type="code">put-*</code> and <code node-type="code">get-*</code> have only 16 and 32 bit integers.
This is because benchmark told us there's not much difference between C and
Scheme implementation. We may add 64 bit integers and floting number
versions in future if there's enough demand.</p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="read/ss_59">
            <span>read/ss</span>
            <span>
              <i node-type="i">:optional</i>
            </span>
            <span>
              <i node-type="i">(port</i>
            </span>
            <span>
              <code node-type="code">(current-input-port)</code>
            </span>
            <span>
              <i node-type="i">)</i>
            </span>
          </a>
        </div>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="write/ss_88">
            <span>write/ss</span>
            <span>
              <i node-type="i">obj</i>
            </span>
            <span>
              <i node-type="i">:optional</i>
            </span>
            <span>
              <i node-type="i">(port</i>
            </span>
            <span>
              <code node-type="code">(current-output-port)</code>
            </span>
            <span>
              <i node-type="i">)</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">[SRFI-38] The <code node-type="code">read/ss</code> reads a datum from given <i node-type="i">port</i>.</p>
        <p node-type="paragraph">The <code node-type="code">write/ss</code> writes <i node-type="i">obj</i> to given <i node-type="i">port</i>.</p>
        <p node-type="paragraph">These are the same as <code node-type="code">read</code> and <code node-type="code">write</code> procedure, but it can handle
circular list.</p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="format_113">
            <span>format</span>
            <span>
              <i node-type="i">port</i>
            </span>
            <span>
              <i node-type="i">string</i>
            </span>
            <span>
              <i node-type="i">arg</i>
            </span>
            <span>
              <i node-type="i">...</i>
            </span>
          </a>
        </div>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="format_112">
            <span>format</span>
            <span>
              <i node-type="i">string</i>
            </span>
            <span>
              <i node-type="i">arg</i>
            </span>
            <span>
              <i node-type="i">...</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">[SRFI-28+] Formats <i node-type="i">arg</i> accoding to <i node-type="i">string</i>. _Port_specifies the destination; if it is an output port, the formatted result is
written to it; if it is #t, the result is written to current output port; if it
is #f, the formatted result is returned as a string. <i node-type="i">Port</i> can be omitted
and the result is the same as when #f is given.</p>
        <p node-type="paragraph"><i node-type="i">String</i> is a string that contains format directives. A format directive is
a character sequence begins with tilda <code node-type="code">'~'</code>, and ends with some specific
characters. A format directive takes the corresponding arg and formats it. The
rest of string is copied to the output as is.</p>
        <p node-type="paragraph">
          <div node-type="snipet" class="snipet">
            <pre lang="" node-type="snipet"><code>(format #f "the answer is ~a" 48)</code></pre>
            <span />
            <span>the anser is 48</span>
          </div>
        </p>
        <p node-type="paragraph">The format directive can take one or more parameters, separated by comma
characters. A parameter may be an integer or a character; if it is a character,
it should be preceded by a quote character. Parameter can be omitted, in such
case the system default value is used. The interpretation of the parameters
depends on the format directive.</p>
        <p node-type="paragraph">Furthermore, a format directive can take two additional flags: atmark
<code node-type="code">'@'</code> and colon <code node-type="code">':'</code>. One or both of them may modify the
behaviour of the format directive. Those flags must be placed immediately
before the directive character.</p>
        <p node-type="paragraph">The following complete list of the supported directives. Either upper case or
lower case character can be used for the format directive; usually they have no
distinction, except noted.</p>
        <dl node-type="dlist">
          <dt>~<i node-type="i">mincol</i>,<i node-type="i">colinc</i>,<i node-type="i">minpad</i>,<i node-type="i">padchar</i>,<i node-type="i">maxcol</i><strong node-type="strong">A</strong></dt>
          <dd>
            <p node-type="paragraph">Ascii output. The corresponding argument is printed by <code node-type="code">display</code>. If an
integer <i node-type="i">mincol</i> is given, it specifies the minimum number of characters to
be output; if the formatted result is shorter than <i node-type="i">mincol</i>, a whitespace is
padded to the right (i.e. the result is left justified).
The <i node-type="i">colinc</i>, <i node-type="i">minpad</i> and <i node-type="i">padchar</i> parameters control, if given,
further padding. A character padchar replaces the padding character for the
whitespace. If an integer <i node-type="i">minpad</i> is given and greater than 0, at least
<i node-type="i">minpad</i> padding character is used, regardless of the resulting width. If an
integer <i node-type="i">colinc</i> is given, the padding character is added (after minpad) in
chunk of <i node-type="i">colinc</i> characters, until the entire width exceeds <i node-type="i">mincol</i>.
If atmark-flag <code node-type="code">'@'</code> is given, the format result is right
justified, i.e. padding is added to the left.
The <i node-type="i">maxcol</i> parameter, if given, limits the maximum number of characters to
be written. If the length of formatted string exceeds <i node-type="i">maxcol</i>, only
<i node-type="i">maxcol</i> characters are written. If colon-flag is given as well and the
length of formatted string exceeds <i node-type="i">maxcol</i>, <i node-type="i">maxcol</i> - 4 characters
are written and a string <code node-type="code">" ..."</code> is attached after it.
<div node-type="snipet" class="snipet">
              <pre lang="" node-type="snipet"><code>(format #f "|~a|" "oops")</code></pre>
              <span />
              <span>|oops|</span>
            </div>
<div node-type="snipet" class="snipet">
              <pre lang="" node-type="snipet"><code>(format #f "|~10a|" "oops")</code></pre>
              <span />
              <span>|oops      |</span>
            </div>
<div node-type="snipet" class="snipet">
              <pre lang="" node-type="snipet"><code>(format #f "|~10@a|" "oops")</code></pre>
              <span />
              <span>|      oops|</span>
            </div>
<div node-type="snipet" class="snipet">
              <pre lang="" node-type="snipet"><code>(format #f "|~10,,,'*@a|" "oops")</code></pre>
              <span />
              <span>|\*\*\*\*\*\*oops|</span>
            </div>
<div node-type="snipet" class="snipet">
              <pre lang="" node-type="snipet"><code>(format #f "|~,,,,10a|" '(abc def ghi jkl))</code></pre>
              <span />
              <span>|abc def gh|</span>
            </div>
<div node-type="snipet" class="snipet">
              <pre lang="" node-type="snipet"><code>(format #f "|~,,,,10:a|" '(abc def ghi jkl))</code></pre>
              <span />
              <span>|abc de ...|</span>
            </div></p>
          </dd>
          <dt>~<i node-type="i">mincol</i>,<i node-type="i">colinc</i>,<i node-type="i">minpad</i>,<i node-type="i">padchar</i>,<i node-type="i">maxcol</i><strong node-type="strong">S</strong></dt>
          <dd>
            <p node-type="paragraph">S-expression output. The corresponding argument is printed by <code node-type="code">write</code>. The
semantics of parameters and flags are the same as <strong node-type="strong">~A</strong> directive.
<div node-type="snipet" class="snipet">
              <pre lang="" node-type="snipet"><code>(format #f "|~s|" "oops")</code></pre>
              <span />
              <span>|"oops"|</span>
            </div>
<div node-type="snipet" class="snipet">
              <pre lang="" node-type="snipet"><code>(format #f "|~10s|" "oops")</code></pre>
              <span />
              <span>|"oops"    |</span>
            </div>
<div node-type="snipet" class="snipet">
              <pre lang="" node-type="snipet"><code>(format #f "|~10@s|" "oops")</code></pre>
              <span />
              <span>|    "oops"|</span>
            </div>
<div node-type="snipet" class="snipet">
              <pre lang="" node-type="snipet"><code>(format #f "|~10,,,'*@s|" "oops")</code></pre>
              <span />
              <span>|\*\*\*\*"oops"|</span>
            </div></p>
          </dd>
          <dt>~<i node-type="i">mincol</i>,<i node-type="i">padchar</i>,<i node-type="i">commachar</i>,<i node-type="i">interval</i><strong node-type="strong">D</strong></dt>
          <dd>
            <p node-type="paragraph">Decimal output. The argument is formatted as an decimal integer. If the argument
is not an integer, all parameters are ignored and it is formatted by <strong node-type="strong">~A</strong>directive.
If an integer parameter <i node-type="i">mincol</i> is given, it specifies minimum width of the
formatted result; if the result is shorter than it, <i node-type="i">padchar</i> is padded on
the left (i.e. the result is right justified). The default of padchar is a
whitespace.
<div node-type="snipet" class="snipet">
              <pre lang="" node-type="snipet"><code>(format #f "|~d|" 12345)</code></pre>
              <span />
              <span>|12345|</span>
            </div>
<div node-type="snipet" class="snipet">
              <pre lang="" node-type="snipet"><code>(format #f "|~10d|" 12345)</code></pre>
              <span />
              <span>|     12345|</span>
            </div>
<div node-type="snipet" class="snipet">
              <pre lang="" node-type="snipet"><code>(format #f "|~10,'0d|" 12345)</code></pre>
              <span />
              <span>|0000012345|</span>
            </div>
If atmark-flag is given, the sign <code node-type="code">'+'</code> is printed for the positive
argument.
If colon-flag is given, every _interval_th digit of the result is grouped
and commachar is inserted between them. The default of <i node-type="i">commachar</i> is
<code node-type="code">','</code>, and the default of <i node-type="i">interval</i> is 3.
<div node-type="snipet" class="snipet">
              <pre lang="" node-type="snipet"><code>(format #f "|~:d|" 12345)</code></pre>
              <span />
              <span>|12,345|</span>
            </div>
<div node-type="snipet" class="snipet">
              <pre lang="" node-type="snipet"><code>(format #f "|~,,'_,4:d|" -12345678)</code></pre>
              <span />
              <span>|-1234_5678|</span>
            </div></p>
          </dd>
          <dt>~<i node-type="i">mincol</i>,<i node-type="i">padchar</i>,<i node-type="i">commachar</i>,<i node-type="i">interval</i><strong node-type="strong">B</strong></dt>
          <dd>
            <p node-type="paragraph">Binary output. The argument is formatted as a binary integer. The semantics of
parameters and flags are the same as the <strong node-type="strong">~D</strong> directive.</p>
          </dd>
          <dt>~<i node-type="i">mincol</i>,<i node-type="i">padchar</i>,<i node-type="i">commachar</i>,<i node-type="i">interval</i><strong node-type="strong">O</strong></dt>
          <dd>
            <p node-type="paragraph">Octet output. The argument is formatted as a octal integer. The semantics of
parameters and flags are the same as the <strong node-type="strong">~D</strong> directive.</p>
          </dd>
          <dt>~<i node-type="i">mincol</i>,<i node-type="i">padchar</i>,<i node-type="i">commachar</i>,<i node-type="i">interval</i><strong node-type="strong">X</strong></dt>
          <dt>~<i node-type="i">mincol</i>,<i node-type="i">padchar</i>,<i node-type="i">commachar</i>,<i node-type="i">interval</i><strong node-type="strong">x</strong></dt>
          <dd>
            <p node-type="paragraph">Hexadecimal output. The argument is formatted as a hexadecimal integer. If
<code node-type="code">'X'</code> is used, upper case alphabets are used for the digits larger than 10.
If <code node-type="code">'x'</code> is used, lower case alphabets are used. The semantics of
parameters and flags are the same as the <strong node-type="strong">~D</strong> directive.
<div node-type="snipet" class="snipet">
              <pre lang="" node-type="snipet"><code>(format #f "~8,'0x" 259847592)</code></pre>
              <span />
              <span>0f7cf5a8</span>
            </div>
<div node-type="snipet" class="snipet">
              <pre lang="" node-type="snipet"><code>(format #f "~8,'0X" 259847592)</code></pre>
              <span />
              <span>0F7CF5A8</span>
            </div></p>
          </dd>
        </dl>
        <p node-type="paragraph">Note: The format procedure's implementation and most of documentation is quoted
from Gauche.</p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="port-ready?_119">
            <span>port-ready?</span>
            <span>
              <i node-type="i">:optional</i>
            </span>
            <span>
              <i node-type="i">(port</i>
            </span>
            <span>
              <i node-type="i">(current-input-port))</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">Returns #t when port data are ready, otherwise #f.</p>
        <p node-type="paragraph">If the given <i node-type="i">port</i> implementation does not support this functionality,
the return value will be always #t. Following example describes when this
always returns #t;</p>
        <div node-type="block" class="codeblock">
          <pre lang="scheme" node-type="block"><code>;; Assume read! is provided.
(define user-port (make-custom-binary-input-port "my-port" read! #f #f))
(port-ready user-port)
</code></pre>
          <span />
          <span>#t</span>
        </div>
        <p node-type="paragraph" />
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="buffered-port_105">
            <span>buffered-port</span>
            <span>
              <i node-type="i">port</i>
            </span>
            <span>
              <i node-type="i">buffer-mode</i>
            </span>
            <span>
              <i node-type="i">:key</i>
            </span>
            <span>
              <i node-type="i">buffer</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph"><i node-type="i">port</i> must be binary port.</p>
        <p node-type="paragraph">Converts given <i node-type="i">port</i> to buffered port if the <i node-type="i">port</i> is not
buffered port.</p>
        <p node-type="paragraph">Buffered port is a type of port which does not read or write immediately
but uses internal buffer. For example, file port with
<code node-type="code">(buffer-mode block)</code> or <code node-type="code">(buffer-mode line)</code> uses the buffered
port. This is useful when actual I/O is more expensive than memory access.</p>
        <p node-type="paragraph">The <i node-type="i">buffer-mode</i> must be a symbol the macro <code node-type="code">buffer-mode</code> can
return. If the <code node-type="code">buffer-mode</code> is <code node-type="code">none</code>, then the procedure does not
convert the given <i node-type="i">port</i>.</p>
        <p node-type="paragraph">If the keyword argument <i node-type="i">buffer</i> is specified, it must be
a bytevector, then the converted buffered port uses specified bytevector
as its internal buffer. If the bytevector size is zero or literal bytevector
then <code node-type="code">&amp;assertion</code> is raised.</p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="make-codec_61">
            <span>make-codec</span>
            <span>
              <i node-type="i">symbol</i>
            </span>
            <span>
              <i node-type="i">getc</i>
            </span>
            <span>
              <i node-type="i">putc</i>
            </span>
            <span>
              <i node-type="i">data</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">Creates a custom codec. <i node-type="i">Symbol</i> is the name of the codec. _Getc_and <i node-type="i">putc</i> must be procedures. <i node-type="i">Data</i> is an user data used in _getc_and <i node-type="i">putc</i>.</p>
        <p node-type="paragraph"><i node-type="i">Getc</i> must take 4 arguments, <i node-type="i">input-port</i>, <i node-type="i">error-handling-mode</i>,
<i node-type="i">check-bom?</i> and <i node-type="i">userdata</i>. <i node-type="i">Input-port</i> is binary input port.
<i node-type="i">Error-handling-mode</i> is symbol can be <code node-type="code">ignore</code>, <code node-type="code">raise</code> or
<code node-type="code">replace</code> depending on a transcoder which uses this custom codec.
<i node-type="i">Check-bom?</i> is boolean, if <i node-type="i">getc</i> is being called first time, it is #t,
otherwise #f. <i node-type="i">Userdata</i> is user defined data which is given when the codec
is created.</p>
        <p node-type="paragraph">The basic process of <i node-type="i">getc</i> is reading binary data from <i node-type="i">input-port</i> and
converting the data to UCS4. Returning UCS4 must be integer and does not have to
be 4 byte.</p>
        <p node-type="paragraph"><i node-type="i">Putc</i> must take 4 arguments, <i node-type="i">output-port</i>, <i node-type="i">char</i>,
<i node-type="i">error-handling-mode</i> and <i node-type="i">userdata</i>. <i node-type="i">Output-port</i> is binary output
port. <i node-type="i">Char</i> is character object which needs to be converted from UCS4.
<i node-type="i">Error-handling-mode</i> is symbol can be <code node-type="code">ignore</code>, <code node-type="code">raise</code> or
<code node-type="code">replace</code> depending on a transcoder which uses this custom codec.
<i node-type="i">Userdata</i> is user defined data which is given when the codec is created.</p>
        <p node-type="paragraph">The basic process of <i node-type="i">putc</i> is converting given UCS4 charactner to target
encoding data and putting it to <i node-type="i">output-port</i> as binary data.</p>
        <p node-type="paragraph">For sample implementation, see sitelib/encoding directory. You can find some
custom codecs.</p>
      </section>
      <section node-type="section">
        <h3 node-type="header-3">
          <a name="Symbols">Symbols</a>
        </h3>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="symbol<?_355">
            <span>symbol&lt;?</span>
            <span>
              <i node-type="i">symbol1</i>
            </span>
            <span>
              <i node-type="i">symbol2</i>
            </span>
            <span>
              <i node-type="i">symbols</i>
            </span>
            <span>
              <i node-type="i">...</i>
            </span>
          </a>
        </div>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="symbol<=?_354">
            <span>symbol&lt;=?</span>
            <span>
              <i node-type="i">symbol1</i>
            </span>
            <span>
              <i node-type="i">symbol2</i>
            </span>
            <span>
              <i node-type="i">symbols</i>
            </span>
            <span>
              <i node-type="i">...</i>
            </span>
          </a>
        </div>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="symbol&gt;?_358">
            <span>symbol&gt;?</span>
            <span>
              <i node-type="i">symbol1</i>
            </span>
            <span>
              <i node-type="i">symbol2</i>
            </span>
            <span>
              <i node-type="i">symbols</i>
            </span>
            <span>
              <i node-type="i">...</i>
            </span>
          </a>
        </div>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="symbol&gt;=?_357">
            <span>symbol&gt;=?</span>
            <span>
              <i node-type="i">symbol1</i>
            </span>
            <span>
              <i node-type="i">symbol2</i>
            </span>
            <span>
              <i node-type="i">symbols</i>
            </span>
            <span>
              <i node-type="i">...</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">Return #t if given <i node-type="i">symbol1</i> is less than, less than or equal to,
greater than or greater than or equal to <i node-type="i">symbol2</i>. If <i node-type="i">symbols</i> are
not null, then the procedures continue to compare until the given arguments
are exhausted.</p>
        <p node-type="paragraph">These procedures are analogy of <code node-type="code">string&lt;?</code>, <code node-type="code">string&lt;=?</code>,
<code node-type="code">string&gt;?</code> and <code node-type="code">string&gt;=?</code>.</p>
        <p node-type="paragraph">These can also be implemented as follows:
<pre lang="" node-type="snipet"><code>(define (symbol&lt;? . syms) (apply string&lt;? (map symbol-&gt;string syms)))</code></pre></p>
        <p node-type="paragraph">However, this build-in version won't converts given symbols to strings.</p>
      </section>
      <section node-type="section">
        <h3 node-type="header-3">
          <a name="Keywords">Keywords</a>
        </h3>
        <p node-type="paragraph">Sagittarius has keyword objects which starts with <code node-type="code">':'</code>. It has almost the
same feature as symbol, however it can not be bounded with any values. The
keyword objects are self quoting so users don't have to put <code node-type="code">'</code> explicitly.</p>
        <p node-type="paragraph">The keyword notation is *NOT* available on R6RS or R7RS reader mode. Thus
<code node-type="code">#!r6rs</code> or <code node-type="code">#!r7rs</code> directive and <code node-type="code">-r6</code> or <code node-type="code">-r7</code>command line option disable it.</p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="make-keyword_199">
            <span>make-keyword</span>
            <span>
              <i node-type="i">symbol</i>
            </span>
          </a>
        </div>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="symbol-&gt;keyword_351">
            <span>symbol-&gt;keyword</span>
            <span>
              <i node-type="i">symbol</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">Creates a new keyword from <i node-type="i">symbol</i>.</p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="string-&gt;keyword_267">
            <span>string-&gt;keyword</span>
            <span>
              <i node-type="i">string</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">Creates a new keyword from <i node-type="i">string</i>.</p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="keyword?_29">
            <span>keyword?</span>
            <span>
              <i node-type="i">obj</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">Returns #t if <i node-type="i">obj</i> is keyword, otherwise #f.</p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="keyword-&gt;symbol_28">
            <span>keyword-&gt;symbol</span>
            <span>
              <i node-type="i">keyword</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">Returns a symbol representation of given keyword <i node-type="i">keyword</i>.</p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="keyword-&gt;string_27">
            <span>keyword-&gt;string</span>
            <span>
              <i node-type="i">keyword</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">Returns a string representation of given keyword <i node-type="i">keyword</i>.</p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="get-keyword_43">
            <span>get-keyword</span>
            <span>
              <i node-type="i">keyword</i>
            </span>
            <span>
              <i node-type="i">list</i>
            </span>
            <span>
              <i node-type="i">:optional</i>
            </span>
            <span>
              <i node-type="i">fallback</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">Returns the element after given <i node-type="i">keyword</i> from given <i node-type="i">list</i>.</p>
        <p node-type="paragraph">The elements count of the <i node-type="i">list</i> should be even number, otherwise the
procedure might raise <code node-type="code">&amp;error</code> when <i node-type="i">keyword</i> is not found in
<i node-type="i">list</i>.</p>
        <p node-type="paragraph">If <i node-type="i">fallback</i> is given and the procedure could not find the _keyword_from the <i node-type="i">list</i>, the <i node-type="i">fallback</i> will be return. Otherwise it raises
<code node-type="code">&amp;error</code>.</p>
        <p node-type="paragraph">
          <div node-type="snipet" class="snipet">
            <pre lang="" node-type="snipet"><code>(get-keyword :key '(a b c :key d))</code></pre>
            <span />
            <span>d</span>
          </div>
        </p>
        <p node-type="paragraph">
          <div node-type="snipet" class="snipet">
            <pre lang="" node-type="snipet"><code>(get-keyword :key '(a b c d e))</code></pre>
            <span />
            <span>&amp;error</span>
          </div>
        </p>
        <p node-type="paragraph">
          <div node-type="snipet" class="snipet">
            <pre lang="" node-type="snipet"><code>(get-keyword :key '(a b c d e) 'fallback)</code></pre>
            <span />
            <span>&amp;error</span>
          </div>
        </p>
        <p node-type="paragraph">
          <div node-type="snipet" class="snipet">
            <pre lang="" node-type="snipet"><code>(get-keyword :key '(a b c d e f) 'fallback)</code></pre>
            <span />
            <span>fallback</span>
          </div>
        </p>
      </section>
      <section node-type="section">
        <h3 node-type="header-3">
          <a name="Weak-box">Weak box</a>
        </h3>
        <p node-type="paragraph">A weak  box is a reference  to an object  that doesnt prevent the  object from
being garbage-collected.</p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="weak-box?_7">
            <span>weak-box?</span>
            <span>
              <i node-type="i">obj</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">Returns #t if <i node-type="i">obj</i> is weak box otherwise #f.</p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="make-weak-box_315">
            <span>make-weak-box</span>
            <span>
              <i node-type="i">obj</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">Returns a weak box whose value is <i node-type="i">obj</i>.</p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="weak-box-empty?_4">
            <span>weak-box-empty?</span>
            <span>
              <i node-type="i">wb</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">Returns #t if the value of given weak box <i node-type="i">wb</i> is garbage collocted.
Otherwise #f.</p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="weak-box-ref_5">
            <span>weak-box-ref</span>
            <span>
              <i node-type="i">wb</i>
            </span>
            <span>
              <i node-type="i">:optional</i>
            </span>
            <span>
              <i node-type="i">(fallback</i>
            </span>
            <span>
              <i node-type="i">#f)</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">Returns the value of given weak box <i node-type="i">wb</i> if it's not garbage
collocted. Otherwise returns <i node-type="i">fallback</i>.</p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="weak-box-set!_6">
            <span>weak-box-set!</span>
            <span>
              <i node-type="i">wb</i>
            </span>
            <span>
              <i node-type="i">obj</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">Replace the value of given <i node-type="i">wb</i> with <i node-type="i">obj</i>.</p>
      </section>
      <section node-type="section">
        <h3 node-type="header-3">
          <a name="Weak-vector">Weak vector</a>
        </h3>
        <p node-type="paragraph">A weak vector is like a vector of objects, except each object can be garbage
collected if it is not referenced from objects other than weak vectors.  If the
object is collected, the entry of the weak vector is replaced to #f.</p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="weak-vector?_19">
            <span>weak-vector?</span>
            <span>
              <i node-type="i">obj</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">Returns #t if <i node-type="i">obj</i> is weak vector otherwise #f.</p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="make-weak-vector_318">
            <span>make-weak-vector</span>
            <span>
              <i node-type="i">size</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">Creates and returns a weak vector of size <i node-type="i">size</i>.</p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="weak-vector-length_16">
            <span>weak-vector-length</span>
            <span>
              <i node-type="i">wvec</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">Returns the length of given weak vector <i node-type="i">wvec</i></p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="weak-vector-ref_17">
            <span>weak-vector-ref</span>
            <span>
              <i node-type="i">wvec</i>
            </span>
            <span>
              <i node-type="i">k</i>
            </span>
            <span>
              <i node-type="i">:optional</i>
            </span>
            <span>
              <i node-type="i">fallback</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">Returns <i node-type="i">k</i>-th element of a weak vector <i node-type="i">wvec</i>.</p>
        <p node-type="paragraph">By default, <code node-type="code">weak-vector-ref</code> raise an <code node-type="code">&amp;assertion</code> if <i node-type="i">k</i> is
negative, or greater than or equal to the size of <i node-type="i">wvec</i>. However, if an
optional argument <i node-type="i">fallback</i> is given, it is returned for such case.</p>
        <p node-type="paragraph">If the element has been garbage collected, this procedure returns _fallback_if it is given, #f otherwise.</p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="weak-vector-set!_18">
            <span>weak-vector-set!</span>
            <span>
              <i node-type="i">wvec</i>
            </span>
            <span>
              <i node-type="i">k</i>
            </span>
            <span>
              <i node-type="i">value</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">Sets <i node-type="i">k</i>-th element of the weak vector <i node-type="i">wvec</i> to <i node-type="i">value</i>. It
raises an <code node-type="code">&amp;assertion</code> if <i node-type="i">k</i> is negative or greater than or equal to
the size of <i node-type="i">wvec</i>.</p>
      </section>
      <section node-type="section">
        <h3 node-type="header-3">
          <a name="Weak-hashtable">Weak hashtable</a>
        </h3>
        <p node-type="paragraph">A weak hashtable contains references to an object that doesn't prevent the
object from being garbage-collected the same as weak vector. A weak hashtable
is like a hashtable, except each entry can be garbage collected if it is not
referenced from objects other than weak hashtable according to the constructed
condition.</p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="weak-hashtable?_15">
            <span>weak-hashtable?</span>
            <span>
              <i node-type="i">obj</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">Returns #t if <i node-type="i">obj</i> is weak hashtable otherwise #f.</p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="make-weak-eq-hashtable_316">
            <span>make-weak-eq-hashtable</span>
            <span>
              <i node-type="i">:key</i>
            </span>
            <span>
              <i node-type="i">(init-size</i>
            </span>
            <span>
              <i node-type="i">200)</i>
            </span>
            <span>
              <i node-type="i">(weakness</i>
            </span>
            <span>
              <i node-type="i">'both)</i>
            </span>
            <span>
              <i node-type="i">default</i>
            </span>
          </a>
        </div>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="make-weak-eqv-hashtable_317">
            <span>make-weak-eqv-hashtable</span>
            <span>
              <i node-type="i">:key</i>
            </span>
            <span>
              <i node-type="i">(init-size</i>
            </span>
            <span>
              <i node-type="i">200)</i>
            </span>
            <span>
              <i node-type="i">(weakness</i>
            </span>
            <span>
              <i node-type="i">'both)</i>
            </span>
            <span>
              <i node-type="i">default</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">Make a weak hashtable with the hash procedure <code node-type="code">eq?</code> and <code node-type="code">eqv?</code>,
respectively.</p>
        <p node-type="paragraph">The keyword argument <i node-type="i">init-size</i> specifies the initial size of the
weak hashtable.</p>
        <p node-type="paragraph">The kwyword argument <i node-type="i">weakness</i> specifies the place where the weak pointer
is. This must be one of the <code node-type="code">key</code>, <code node-type="code">value</code> and <code node-type="code">both</code>. If the
<code node-type="code">key</code> is specified, then weak hashtable's weak pointer will be the key
so is <code node-type="code">value</code>. If the <code node-type="code">both</code> is specified, then it will be both.</p>
        <p node-type="paragraph">The keyword argument <i node-type="i">default</i> specifies the default value when the entry
is garbage collected. If this is not spceified, then undefined value will be
used.</p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="weak-hashtable-ref_11">
            <span>weak-hashtable-ref</span>
            <span>
              <i node-type="i">weak-hashtable</i>
            </span>
            <span>
              <i node-type="i">key</i>
            </span>
            <span>
              <i node-type="i">:optional</i>
            </span>
            <span>
              <i node-type="i">(default</i>
            </span>
            <span>
              <i node-type="i">#f)</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">Returns the value in <i node-type="i">weak-hashtable</i> associated with <i node-type="i">key</i>. If
<i node-type="i">weak-hashtable</i> does not contain an association for <i node-type="i">key</i>,
<i node-type="i">default</i> is returned.</p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="weak-hashtable-set!_12">
            <span>weak-hashtable-set!</span>
            <span>
              <i node-type="i">weak-hashtable</i>
            </span>
            <span>
              <i node-type="i">key</i>
            </span>
            <span>
              <i node-type="i">obj</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">Changes <i node-type="i">weak-hashtable</i> to associate <i node-type="i">key</i> with <i node-type="i">obj</i>,
adding a new association or replacing any existing association for <i node-type="i">key</i>,
and returns unspecified values.</p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="weak-hashtable-delete!_9">
            <span>weak-hashtable-delete!</span>
            <span>
              <i node-type="i">weak-hashtable</i>
            </span>
            <span>
              <i node-type="i">key</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">Removes any association for <i node-type="i">key</i> within <i node-type="i">weak-hashtable</i> and
returns unspecified values.</p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="weak-hashtable-keys-list_10">
            <span>weak-hashtable-keys-list</span>
            <span>
              <i node-type="i">weak-hashtable</i>
            </span>
          </a>
        </div>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="weak-hashtable-values-list_14">
            <span>weak-hashtable-values-list</span>
            <span>
              <i node-type="i">weak-hashtable</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">Returns a list of keys and values in the given <i node-type="i">weak-hashtable</i>,
respectively.</p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="weak-hashtable-copy_8">
            <span>weak-hashtable-copy</span>
            <span>
              <i node-type="i">weak-hashtable</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">Returns a copy of <i node-type="i">weak-hashtable</i>.</p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="weak-hashtable-shrink_13">
            <span>weak-hashtable-shrink</span>
            <span>
              <i node-type="i">weak-hashtable</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">Shrink the given <i node-type="i">weak-hashtable</i> and returns the number of
removed entry. This is only for GC friendliness.</p>
      </section>
      <section node-type="section">
        <h3 node-type="header-3">
          <a name="Bytevector-operations">Bytevector operations</a>
        </h3>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="bytevector-&gt;sinteger_118">
            <span>bytevector-&gt;sinteger</span>
            <span>
              <i node-type="i">bytevector</i>
            </span>
            <span>
              <i node-type="i">:optional</i>
            </span>
            <span>
              <i node-type="i">start</i>
            </span>
            <span>
              <i node-type="i">end</i>
            </span>
          </a>
        </div>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="bytevector-&gt;uinteger_123">
            <span>bytevector-&gt;uinteger</span>
            <span>
              <i node-type="i">bytevector</i>
            </span>
            <span>
              <i node-type="i">:optional</i>
            </span>
            <span>
              <i node-type="i">start</i>
            </span>
            <span>
              <i node-type="i">end</i>
            </span>
          </a>
        </div>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="bytevector-&gt;integer_114">
            <span>bytevector-&gt;integer</span>
            <span>
              <i node-type="i">bytevector</i>
            </span>
            <span>
              <i node-type="i">:optional</i>
            </span>
            <span>
              <i node-type="i">start</i>
            </span>
            <span>
              <i node-type="i">end</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">Converts given bytevector <i node-type="i">bytevector</i> to exact integer. If optional
argument <i node-type="i">start</i> is given, conversion starts with index <i node-type="i">start</i>. If
optional argument <i node-type="i">end</i> is given, convertion ends by index <i node-type="i">end</i>. The
conversion only happens in big endian.</p>
        <p node-type="paragraph">The first form converts to signed integer and the rest convert to unsigned
integer.</p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="sinteger-&gt;bytevector_114">
            <span>sinteger-&gt;bytevector</span>
            <span>
              <i node-type="i">ei</i>
            </span>
            <span>
              <i node-type="i">:optional</i>
            </span>
            <span>
              <i node-type="i">size</i>
            </span>
          </a>
        </div>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="uinteger-&gt;bytevector_6">
            <span>uinteger-&gt;bytevector</span>
            <span>
              <i node-type="i">ei</i>
            </span>
            <span>
              <i node-type="i">:optional</i>
            </span>
            <span>
              <i node-type="i">size</i>
            </span>
          </a>
        </div>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="integer-&gt;bytevector_66">
            <span>integer-&gt;bytevector</span>
            <span>
              <i node-type="i">ei</i>
            </span>
            <span>
              <i node-type="i">:optional</i>
            </span>
            <span>
              <i node-type="i">size</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph"><i node-type="i">Ei</i> must be exact integer. Converts exact integer <i node-type="i">ei</i> to a
bytevector.</p>
        <p node-type="paragraph">The first form can accept signed integer and converts with two's complement
form. The rest forms only accept unsigned integer and simply convert to
bytes.</p>
        <p node-type="paragraph">If optional argument <i node-type="i">size</i> is given, then the procedure returns _size_size bytevector.</p>
        <p node-type="paragraph">NOTE: The conversion is processed from right most byte so if the <i node-type="i">size</i> is
smaller than given <i node-type="i">ei</i> bytes, then the rest of left bytes will be dropped.</p>
        <p node-type="paragraph">NOTE: the endianness is always big endianness.</p>
        <p node-type="paragraph">
          <div node-type="snipet" class="snipet">
            <pre lang="" node-type="snipet"><code>(integer-&gt;bytevector #x12345678 5)</code></pre>
            <span />
            <span>#vu8(#x00 #x12 #x34 #x56 #x78)</span>
          </div>
        </p>
        <p node-type="paragraph">
          <div node-type="snipet" class="snipet">
            <pre lang="" node-type="snipet"><code>(integer-&gt;bytevector #x12345678 3)</code></pre>
            <span />
            <span>#vu8(#x34 #x56 #x78)</span>
          </div>
        </p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="bytevector-append_130">
            <span>bytevector-append</span>
            <span>
              <i node-type="i">bvs</i>
            </span>
            <span>
              <i node-type="i">...</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">Returns a newly allocated bytevector that contains all elements in
order from the subsequent locations in <i node-type="i">bvs ...</i>.</p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="bytevector-concatenate_132">
            <span>bytevector-concatenate</span>
            <span>
              <i node-type="i">list-of-bytevectors</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">Appends each bytevectors in <i node-type="i">list-of-bytevectors</i>. This is
equivalent to:</p>
        <p node-type="paragraph">
          <pre lang="" node-type="snipet"><code>(apply bytevector-append _list-of-bytevectors_)</code></pre>
        </p>
      </section>
      <section node-type="section">
        <h3 node-type="header-3">
          <a name="List-operations">List operations</a>
        </h3>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="circular-list?_103">
            <span>circular-list?</span>
            <span>
              <i node-type="i">list</i>
            </span>
          </a>
        </div>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="dotted-list?_157">
            <span>dotted-list?</span>
            <span>
              <i node-type="i">list</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">[SRFI-1] Returns #t if <i node-type="i">list</i> is circular or dotted list,
respectively. Otherwise #f.</p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="acons_4">
            <span>acons</span>
            <span>
              <i node-type="i">obj1</i>
            </span>
            <span>
              <i node-type="i">obj2</i>
            </span>
            <span>
              <i node-type="i">obj3</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">Returns <code node-type="code">(cons (cons _obj1_ _obj2_) _obj3_)</code>. Useful to
put an entry at the head of an associative list.</p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="append!_44">
            <span>append!</span>
            <span>
              <i node-type="i">list</i>
            </span>
            <span>
              <i node-type="i">...</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">[SRFI-1] Returns a list consisting of the elements of the first _list_followed by the elements of the other <i node-type="i">lists</i>. The cells in the lists except
the last one may be reused to construct the result. The last argument may be any
object.</p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="reverse!_121">
            <span>reverse!</span>
            <span>
              <i node-type="i">list</i>
            </span>
            <span>
              <i node-type="i">...</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">[SRFI-1] Returns a list consisting of the elements of <i node-type="i">list</i> in
reverse order. The cells of list may be reused to construct the returned list.</p>
      </section>
      <section node-type="section">
        <h3 node-type="header-3">
          <a name="Vector-operations">Vector operations</a>
        </h3>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="vector-copy_21">
            <span>vector-copy</span>
            <span>
              <i node-type="i">vector</i>
            </span>
            <span>
              <i node-type="i">:optional</i>
            </span>
            <span>
              <i node-type="i">start</i>
            </span>
            <span>
              <i node-type="i">end</i>
            </span>
            <span>
              <i node-type="i">fill</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">[SRFI-43] Copies a vector <i node-type="i">vector</i>. Optional <i node-type="i">start</i> and _end_arguments can be used to limit the range of <i node-type="i">vector</i> to be copied. If the
range specified by <i node-type="i">start</i> and <i node-type="i">end</i> falls outside of the original
vector, the <i node-type="i">fill</i> value is used to fill the result vector.</p>
        <p node-type="paragraph">
          <div node-type="snipet" class="snipet">
            <pre lang="" node-type="snipet"><code>(vector-copy '#(0 1 2 3 4) 1 4)</code></pre>
            <span />
            <span>#(1 2 3)</span>
          </div>
        </p>
        <p node-type="paragraph">
          <div node-type="snipet" class="snipet">
            <pre lang="" node-type="snipet"><code>(vector-copy '#(0 1 2 3 4) 4 6 #f)</code></pre>
            <span />
            <span>#(4 #f)</span>
          </div>
        </p>
        <p node-type="paragraph">
          <div node-type="snipet" class="snipet">
            <pre lang="" node-type="snipet"><code>(vector-copy '#() 0 2 #t)</code></pre>
            <span />
            <span>#(#t #t)</span>
          </div>
        </p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="vector-append_18">
            <span>vector-append</span>
            <span>
              <i node-type="i">vector</i>
            </span>
            <span>
              <i node-type="i">...</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">[SRFI-43] Returns a newly allocated vector that contains all elements in
order from the subsequent locations in <i node-type="i">vector ...</i>.</p>
        <p node-type="paragraph">
          <div node-type="snipet" class="snipet">
            <pre lang="" node-type="snipet"><code>(vector-append '#(1 2) '#(a b) '#(5))</code></pre>
            <span />
            <span>#(1 2 a b 5)</span>
          </div>
        </p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="vector-concatenate_20">
            <span>vector-concatenate</span>
            <span>
              <i node-type="i">list-of-vectors</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">[SRFI-43] Appends each vectors in <i node-type="i">list-of-vectors</i>. This is
equivalent to:</p>
        <p node-type="paragraph">
          <pre lang="" node-type="snipet"><code>(apply vector-append _list-of-vectors_)</code></pre>
        </p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="vector-reverse_33">
            <span>vector-reverse</span>
            <span>
              <i node-type="i">vector</i>
            </span>
            <span>
              <i node-type="i">:optional</i>
            </span>
            <span>
              <i node-type="i">start</i>
            </span>
            <span>
              <i node-type="i">end</i>
            </span>
          </a>
        </div>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="vector-reverse!_34">
            <span>vector-reverse!</span>
            <span>
              <i node-type="i">vector</i>
            </span>
            <span>
              <i node-type="i">:optional</i>
            </span>
            <span>
              <i node-type="i">start</i>
            </span>
            <span>
              <i node-type="i">end</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">[SRFI-43] Reverse the given <i node-type="i">vector</i>'s elements.</p>
        <p node-type="paragraph">The second form reverses the given <i node-type="i">vector</i> destructively.</p>
        <p node-type="paragraph">Optional arguments <i node-type="i">start</i> and <i node-type="i">end</i> must be non negative integer
if it's given. And it restricts the range of the target elements.</p>
      </section>
      <section node-type="section">
        <h3 node-type="header-3">
          <a name="String-operations">String operations</a>
        </h3>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="string-scan_301">
            <span>string-scan</span>
            <span>
              <i node-type="i">string</i>
            </span>
            <span>
              <i node-type="i">item</i>
            </span>
            <span>
              <i node-type="i">:optional</i>
            </span>
            <span>
              <i node-type="i">return</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">Scan <i node-type="i">item</i> (either a string or a character) in <i node-type="i">string</i>.</p>
        <p node-type="paragraph">The <i node-type="i">return</i> argument specified what value should be returned when
<i node-type="i">item</i> is found in <i node-type="i">string</i>. It must be one of the following symbols;</p>
        <dl node-type="dlist">
          <dt>
            <code node-type="code">index</code>
          </dt>
          <dd>
            <p node-type="paragraph">Returns the index in <i node-type="i">string</i> if <i node-type="i">item</i> is found, or <code node-type="code">#f</code>.
This is the default behaviour.</p>
          </dd>
          <dt>
            <code node-type="code">before</code>
          </dt>
          <dd>
            <p node-type="paragraph">Returns a substring of <i node-type="i">string</i> before <i node-type="i">item</i>, or <code node-type="code">#f</code> if
<i node-type="i">item</i> is not found.</p>
          </dd>
          <dt>
            <code node-type="code">after</code>
          </dt>
          <dd>
            <p node-type="paragraph">Returns a substring of <i node-type="i">string</i> after <i node-type="i">item</i>, or <code node-type="code">#f</code> if
<i node-type="i">item</i> is not found.</p>
          </dd>
          <dt>
            <code node-type="code">before*</code>
          </dt>
          <dd>
            <p node-type="paragraph">Returns a substring of <i node-type="i">string</i> before <i node-type="i">item</i>, and the substring
after it. If <i node-type="i">item</i> is not found then return <code node-type="code">(values #f #f)</code>.</p>
          </dd>
          <dt>
            <code node-type="code">after*</code>
          </dt>
          <dd>
            <p node-type="paragraph">Returns a substring of <i node-type="i">string</i> up to the end of <i node-type="i">item</i>, and the
rest. after it. If <i node-type="i">item</i> is not found then return
<code node-type="code">(values #f #f)</code>.</p>
          </dd>
          <dt>
            <code node-type="code">both</code>
          </dt>
          <dd>
            <p node-type="paragraph">Returns a substring of <i node-type="i">string</i> before <i node-type="i">item</i> and after
<i node-type="i">item</i>. If <i node-type="i">item</i> is not found, return <code node-type="code">(values #f #f)</code>.</p>
          </dd>
        </dl>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="string-concatenate_285">
            <span>string-concatenate</span>
            <span>
              <i node-type="i">list-of-strings</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">[SRFI-13] Appends each strings in <i node-type="i">list-of-strings</i>. This is
equivalent to:</p>
        <p node-type="paragraph">
          <pre lang="" node-type="snipet"><code>(apply string-append _list-of-strings_)</code></pre>
        </p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="istring?_83">
            <span>istring?</span>
            <span>
              <i node-type="i">obj</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">Returns #t if the given <i node-type="i">obj</i> is an immutable string, otherwise #f.</p>
        <p node-type="paragraph">Immutable strings are one of the followings:</p>
        <ul node-type="bullet-list">
          <li>
            <p node-type="paragraph">String literals. (i.e. <code node-type="code">"abc"</code>)</p>
          </li>
          <li>
            <p node-type="paragraph">Strings converted to immutable string by <code node-type="code">string-&gt;istring</code></p>
          </li>
        </ul>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="string-&gt;istring_266">
            <span>string-&gt;istring</span>
            <span>
              <i node-type="i">string</i>
            </span>
            <span>
              <i node-type="i">:optional</i>
            </span>
            <span>
              <i node-type="i">start</i>
            </span>
            <span>
              <i node-type="i">end</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">Returns copy of the given <i node-type="i">string</i>. The returning string is
converted to immutable string.</p>
        <p node-type="paragraph">The optional argument <i node-type="i">start</i> and <i node-type="i">end</i> are given, then the
returing string is contains only the range of given <i node-type="i">string</i>.</p>
      </section>
      <section node-type="section">
        <h3 node-type="header-3">
          <a name="Load-path">Load path</a>
        </h3>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="add-load-path_12">
            <span>add-load-path</span>
            <span>
              <i node-type="i">path</i>
            </span>
            <span>
              <i node-type="i">:key</i>
            </span>
            <span>
              <i node-type="i">(append</i>
            </span>
            <span>
              <i node-type="i">#f)</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">Add given <i node-type="i">path</i> to current loading path list.</p>
        <p node-type="paragraph">If keyword argument <i node-type="i">append</i> is <code node-type="code">#t</code>, then given <i node-type="i">path</i> is
appended to the current loading path list, otherwise prepend to the list.</p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="add-load-suffix_13">
            <span>add-load-suffix</span>
            <span>
              <i node-type="i">suffix</i>
            </span>
            <span>
              <i node-type="i">:key</i>
            </span>
            <span>
              <i node-type="i">(append</i>
            </span>
            <span>
              <i node-type="i">#f)</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">Add given <i node-type="i">suffix</i> to current suffix list.</p>
        <p node-type="paragraph">If keyword argument <i node-type="i">append</i> is <code node-type="code">#t</code>, then given <i node-type="i">suffix</i> is
appended to the current suffix list, otherwise prepend to the list.</p>
        <p node-type="paragraph">The <i node-type="i">suffix</i> should contain <code node-type="code">.</code> as well.</p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="load-path_44">
            <span>load-path</span>
          </a>
        </div>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="load-path_43">
            <span>load-path</span>
            <span>
              <i node-type="i">paths</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">Retrives/sets current loading path.</p>
        <p node-type="paragraph">If the latter form is used, then the given path list <i node-type="i">paths</i> is set
to current loading path list. Otherwise retrieves the list.</p>
        <p node-type="paragraph">The returning value is not copied, thus modifying the list may cause
unexpected results.</p>
      </section>
      <section node-type="section">
        <h3 node-type="header-3">
          <a name="System-and-platform">System and platform</a>
        </h3>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="uname_7">
            <span>uname</span>
          </a>
        </div>
        <p node-type="paragraph">Return a vector which contains the following information.</p>
        <dl node-type="dlist">
          <dt>System name</dt>
          <dd>
            <p node-type="paragraph">Operating system name. E.g. "Linux"</p>
          </dd>
          <dt>Node name</dt>
          <dd>
            <p node-type="paragraph">The name of the computer.</p>
          </dd>
          <dt>Release</dt>
          <dd>
            <p node-type="paragraph">Release number of the system if availabel.</p>
          </dd>
          <dt>Version</dt>
          <dd>
            <p node-type="paragraph">Version number of the system if availabel.</p>
          </dd>
          <dt>Machine</dt>
          <dd>
            <p node-type="paragraph">Machine architecture of the system.</p>
          </dd>
        </dl>
        <p node-type="paragraph">On POSIX environment, this is the result of <code node-type="code">uname(2)</code>.</p>
        <p node-type="paragraph">On Windows environment, this is the result of couple of Win32 API calls
and formatted to look like the result of <code node-type="code">uname(2)</code>.</p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="get-mac-address_46">
            <span>get-mac-address</span>
            <span>
              <i node-type="i">:optional</i>
            </span>
            <span>
              <i node-type="i">(position</i>
            </span>
            <span>
              <i node-type="i">0)</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">Retrieves MAC address. The returning value is a bytevector which
contains 6 elements.</p>
        <p node-type="paragraph">If optional argument specifies which NIC's MAC address should be returned.</p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="get-process-times_52">
            <span>get-process-times</span>
          </a>
        </div>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="get-thread-times_61">
            <span>get-thread-times</span>
            <span>
              <i node-type="i">:optional</i>
            </span>
            <span>
              <i node-type="i">thread</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">Returns a vector having 3 elements; <i node-type="i">user time</i>, _system time_and <i node-type="i">tick</i>.</p>
        <p node-type="paragraph">The first procedure returns process CPU time, the second procedure returns
thread CPU time. If the optional argument <i node-type="i">thread</i> is given, then the
procedure retrieves CPU time of given thread. Otherwise current thread.</p>
        <p node-type="paragraph"><i node-type="i">tick</i> is a clock tick. Users can compute CPU second Dividing
<i node-type="i">user time</i> or <i node-type="i">system time</i> by this value.</p>
        <p node-type="paragraph">NOTE: <i node-type="i">tick</i> may not be the same even on the same platform. For example,
<code node-type="code">get-process-times</code> returns value of <code node-type="code">_SC_CLK_TCK</code>, and
<code node-type="code">get-thread-times</code> returns 1000000 (on OSX), 1000000000 (on other POSIX
environments which have <code node-type="code">pthread_getcpuclockid</code>), or <code node-type="code">_SC_CLK_TCK</code>(on other POSIX environments which don't have <code node-type="code">pthread_getcpuclockid</code>). So
users must not assume the value is one of them and calculate CPU second with
assumed value.</p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="gc_1">
            <span>gc</span>
          </a>
        </div>
        <p node-type="paragraph">Invokes garbage collection manually.</p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="cpu-count_159">
            <span>cpu-count</span>
          </a>
        </div>
        <p node-type="paragraph">Returns number of CPUs. The result contains hyperthreading, for example,
if the CPU is Core i5 which have 2 cores and hyperthreading is enabled, then
the returning value is 4.</p>
        <p node-type="paragraph">On Linux environment, the procedure also considers <code node-type="code">taskset(1)</code>.</p>
        <p node-type="paragraph">This procedure returns static value initialised during initialisation of
Sagittarius process. Thus, if the process is restricted after its
initialisation by <code node-type="code">taskset(1)</code>, for example the environment has 4 CPUs
but restricted to 1, then this process, however, returns 4.</p>
      </section>
      <section node-type="section">
        <h3 node-type="header-3">
          <a name="Debugging-aid">Debugging aid</a>
        </h3>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="disasm_144">
            <span>disasm</span>
            <span>
              <i node-type="i">closure</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">Disassembles the compiled body of <i node-type="i">closure</i> and print it.</p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="arity_54">
            <span>arity</span>
            <span>
              <i node-type="i">procedure</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">Returns arity of given <i node-type="i">procedure</i>.</p>
        <p node-type="paragraph">It returns a pair whose car part is required arguments count and cdr part
is boolean which indicates if the procedure accepts optional arguments or
not.</p>
        <div node-type="define" class="define">
          <span>Library</span>
          <a name="(time)_180">
            <span>(time)</span>
          </a>
        </div>
        <p node-type="paragraph">Exports <code node-type="code">time</code> macro</p>
        <div node-type="define" class="define">
          <span>Macro</span>
          <a name="time_57">
            <span>time</span>
            <span>
              <i node-type="i">expr</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">Evaluate <i node-type="i">expr</i> and shows time usage.</p>
        <p node-type="paragraph">The macro return the result of <i node-type="i">expr</i>.</p>
      </section>
    </section>
    <p node-type="paragraph" class="navigation-container">
      <a href="./section6.html">Sagittarius extensions</a>
      <a href="../sagittarius-online-ref.html">Top</a>
      <a href="./section62.html">(sagittarius control) - control library</a>
    </p>
    <div node-type="section">
      <hr>
      <p node-type="paragraph" class="author footer">This document was generated by <i node-type="i">Takashi Kato</i> with Sagittarius gendoc.<br>Generated date: <i node-type="i">2024-09-09T21:26:28+0200</i></p>
    </div>
  </body>
</html>