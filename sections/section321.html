<html>
  <head>
    <meta charset="utf-8">
    <meta http-eqiv="Content-Type" content="text/html; charset=utf-8">
    <link rel="stylesheet" type="text/css" href="../lib/style.css">
    <title>Sagittarius Users' Reference</title>
  </head>
  <body>
    <p node-type="paragraph" class="navigation-container">
      <a href="./section320.html">Enumerations</a>
      <a href="../sagittarius-online-ref.html">Top</a>
      <a href="./section4.html">R7RS Support</a>
    </p>
    <section node-type="section">
      <h2 node-type="header-2">
        <a name="rnrs.composite">Composite libraries</a>
      </h2>
      <section node-type="section">
        <h3 node-type="header-3">
          <a name="rnrs.eval.6">eval</a>
        </h3>
        <div node-type="define" class="define">
          <span>Library</span>
          <a name="(rnrs eval (6))_64">
            <span>(rnrs eval (6))</span>
          </a>
        </div>
        <p node-type="paragraph">[R6RS]The <code node-type="code">(rnrs eval (6))</code> library allows a program to create Scheme
expressions as data at run time and evaluate them.</p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="eval_40">
            <span>eval</span>
            <span>
              <i node-type="i">expression</i>
            </span>
            <span>
              <i node-type="i">environment</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">[R6RS] Evaluates <i node-type="i">expression</i> in the specified <i node-type="i">environment</i> and
returns its value. <i node-type="i">Expression</i> must be a syntactically valid Scheme
expression represented as a datum value.</p>
        <p node-type="paragraph">R6RS requires <i node-type="i">envionment</i> an envitonment which must be created by the
<code node-type="code">environment</code> procedure. However on Sagittarius, <i node-type="i">environment</i> can be
anything. This behaviour might be fixed in future.</p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="environment_23">
            <span>environment</span>
            <span>
              <i node-type="i">import-spec</i>
            </span>
            <span>
              <i node-type="i">...</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">[R6RS] <i node-type="i">Import-spec</i> must be a datum representing an import spec. The
<code node-type="code">environment</code> procedure returns an environment corresponding to <i node-type="i">import-spec</i>.</p>
      </section>
      <section node-type="section">
        <h3 node-type="header-3">
          <a name="rnrs.mutable-pairs.6">Mutable pairs</a>
        </h3>
        <div node-type="define" class="define">
          <span>Library</span>
          <a name="(rnrs mutable-pairs (6))_71">
            <span>(rnrs mutable-pairs (6))</span>
          </a>
        </div>
        <p node-type="paragraph">[R6RS] This library exports <code node-type="code">set-car!</code> and <code node-type="code">set-cdr!</code>.</p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="set-car!_30">
            <span>set-car!</span>
            <span>
              <i node-type="i">pair</i>
            </span>
            <span>
              <i node-type="i">obj</i>
            </span>
          </a>
        </div>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="set-cdr!_31">
            <span>set-cdr!</span>
            <span>
              <i node-type="i">pair</i>
            </span>
            <span>
              <i node-type="i">obj</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">[R6RS] Store <i node-type="i">obj</i> in the car/cdr field of <i node-type="i">pair</i>. These procedures
return unspecified value.</p>
        <p node-type="paragraph">On Sagittarius Scheme, these procedures can modify immutable pairs.</p>
      </section>
      <section node-type="section">
        <h3 node-type="header-3">
          <a name="rnrs.mutable-strings.6">Mutable strings</a>
        </h3>
        <div node-type="define" class="define">
          <span>Library</span>
          <a name="(rnrs mutable-stringss (6))_72">
            <span>(rnrs mutable-stringss (6))</span>
          </a>
        </div>
        <p node-type="paragraph">[R6RS] This library exports <code node-type="code">string-set!</code> and <code node-type="code">string-fill!</code>.</p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="string-set!_279">
            <span>string-set!</span>
            <span>
              <i node-type="i">string</i>
            </span>
            <span>
              <i node-type="i">k</i>
            </span>
            <span>
              <i node-type="i">char</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">[R6RS] <i node-type="i">K</i> must be a valid index of <i node-type="i">string</i>.</p>
        <p node-type="paragraph">The <code node-type="code">string-set!</code> procedure stores <i node-type="i">char</i> in element <i node-type="i">k</i> of string
and returns unspecified values.</p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="string-fill!_267">
            <span>string-fill!</span>
            <span>
              <i node-type="i">string</i>
            </span>
            <span>
              <i node-type="i">char</i>
            </span>
            <span>
              <i node-type="i">:optional</i>
            </span>
            <span>
              <i node-type="i">(start</i>
            </span>
            <span>
              <i node-type="i">0)</i>
            </span>
            <span>
              <i node-type="i">(end</i>
            </span>
            <span>
              <code node-type="code">(string-length _string_)</code>
            </span>
            <span>
              <i node-type="i">)</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">[R6RS+] Stores <i node-type="i">char</i> in every element of the given <i node-type="i">string</i> and
returns unspecified values. Optional arguments <i node-type="i">start</i> and <i node-type="i">end</i> restrict
the ragne of filling.</p>
        <p node-type="paragraph">Passing an immutable string to these procedures cause an exception with condition
type <code node-type="code">&amp;assertion</code> to be raised.</p>
      </section>
      <section node-type="section">
        <h3 node-type="header-3">
          <a name="rnrs.r5rs.6">R5RS compatibility</a>
        </h3>
        <div node-type="define" class="define">
          <span>Library</span>
          <a name="(rnrs r5rs (6))_74">
            <span>(rnrs r5rs (6))</span>
          </a>
        </div>
        <p node-type="paragraph">This library provides R5RS compatibility procedures such as
<code node-type="code">exact-&gt;inexact</code>.</p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="exact-&gt;inexect_45">
            <span>exact-&gt;inexect</span>
            <span>
              <i node-type="i">z</i>
            </span>
          </a>
        </div>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="inexact-&gt;exect_28">
            <span>inexact-&gt;exect</span>
            <span>
              <i node-type="i">z</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">[R6RS] These are the same as the <code node-type="code">inexact</code> and <code node-type="code">exact</code> procedures.</p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="quotient_18">
            <span>quotient</span>
            <span>
              <i node-type="i">n1</i>
            </span>
            <span>
              <i node-type="i">n2</i>
            </span>
          </a>
        </div>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="remainder_94">
            <span>remainder</span>
            <span>
              <i node-type="i">n1</i>
            </span>
            <span>
              <i node-type="i">n2</i>
            </span>
          </a>
        </div>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="modulo_329">
            <span>modulo</span>
            <span>
              <i node-type="i">n1</i>
            </span>
            <span>
              <i node-type="i">n2</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">[R6RS] Returns the quotient, remainder and modulo of dividing an integer
<i node-type="i">n1</i> by an integer <i node-type="i">n2</i>, respectively. The result is an exact number only
if both <i node-type="i">n1</i> and <i node-type="i">n2</i> are exact numbers.</p>
        <div node-type="define" class="define">
          <span>Macro</span>
          <a name="delay_99">
            <span>delay</span>
            <span>
              <i node-type="i">expression</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">[R6RS] The <code node-type="code">delay</code> construct is used together with the procedure
<code node-type="code">force</code> to implement <i node-type="i">lazy evaluation</i> or <i node-type="i">call by need</i>.
<code node-type="code">(delay _expression_)</code> returns an object called a <i node-type="i">promise</i> which
at some point in the future may be asked (by the <code node-type="code">force</code> procedure) to
evaluate expression, and deliver the resulting value. The effect of expression
returning multiple values is unspecified.</p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="force_100">
            <span>force</span>
            <span>
              <i node-type="i">promise</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">[R6RS] <i node-type="i">Promise</i> must be a promise.</p>
        <p node-type="paragraph">The <code node-type="code">force</code> procedure forces the value of <i node-type="i">promise</i>. If no value has
been computed for the promise, then a value is computed and returned. The value
of the promise is cached (or "memoized") so that if it is forced a second time,
the previously computed value is returned.</p>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="null-environment_30">
            <span>null-environment</span>
            <span>
              <i node-type="i">n</i>
            </span>
          </a>
        </div>
        <div node-type="define" class="define">
          <span>Function</span>
          <a name="scheme-report-environment_6">
            <span>scheme-report-environment</span>
            <span>
              <i node-type="i">n</i>
            </span>
          </a>
        </div>
        <p node-type="paragraph">[R6RS] <i node-type="i">N</i> must be the exact integer object 5. These procedures return
an environment which is suitable to use with <code node-type="code">eval</code>.</p>
      </section>
    </section>
    <p node-type="paragraph" class="navigation-container">
      <a href="./section320.html">Enumerations</a>
      <a href="../sagittarius-online-ref.html">Top</a>
      <a href="./section4.html">R7RS Support</a>
    </p>
    <div node-type="section">
      <hr>
      <p node-type="paragraph" class="author footer">This document was generated by <i node-type="i">Takashi Kato</i> with Sagittarius gendoc.<br>Generated date: <i node-type="i">2022-09-01T15:20:01+0200</i></p>
    </div>
  </body>
</html>