<html>
  <head>
    <meta charset="utf-8">
    <meta http-eqiv="Content-Type" content="text/html; charset=utf-8">
    <link rel="stylesheet" type="text/css" href="../lib/style.css">
    <title>Sagittarius Users' Reference</title>
  </head>
  <body>
    <p node-type="paragraph" class="navigation-container">
      <a href="./section4.html">R7RS Support</a>
      <a href="../sagittarius-online-ref.html">Top</a>
      <a href="./section42.html">R7RS libraries</a>
    </p>
    <section node-type="section">
      <h2 node-type="header-2">
        <a name="R7RS-library-system">R7RS library system</a>
      </h2>
      <p node-type="paragraph">On Sagittarius, user can call R7RS libraries on R6RS script and also other way
around. However syntaxes are different. User can choose which syntax use.</p>
      <div node-type="define" class="define">
        <span>Syntax</span>
        <a name="define-library_77">
          <span>define-library</span>
          <span>
            <i node-type="i">name</i>
          </span>
          <span>
            <i node-type="i">clauses</i>
          </span>
        </a>
      </div>
      <p node-type="paragraph">[R7RS]<i node-type="i">name</i> must be a list which can only contains symbol or exact
integer.</p>
      <p node-type="paragraph"><i node-type="i">clauses</i> may be one of these:</p>
      <ul node-type="bullet-list">
        <li>
          <p node-type="paragraph">(<code node-type="code">export</code> <i node-type="i">export-spec</i> ...)</p>
        </li>
        <li>
          <p node-type="paragraph">(<code node-type="code">import</code> <i node-type="i">import-set</i> ...)</p>
        </li>
        <li>
          <p node-type="paragraph">(<code node-type="code">begin</code> <i node-type="i">command-or-definition</i> ...)</p>
        </li>
        <li>
          <p node-type="paragraph">(<code node-type="code">include</code> <i node-type="i">filenames</i> ...)</p>
        </li>
        <li>
          <p node-type="paragraph">(<code node-type="code">include-ci</code> <i node-type="i">filenames</i> ...)</p>
        </li>
        <li>
          <p node-type="paragraph">(<code node-type="code">include-library-declarations</code> <i node-type="i">filenames</i> ...)</p>
        </li>
        <li>
          <p node-type="paragraph">(<code node-type="code">cond-expand</code> <i node-type="i">cond-expand-clause</i> ...)</p>
        </li>
      </ul>
      <p node-type="paragraph"><code node-type="code">export</code> and <code node-type="code">import</code> are the same as R6RS. And on R7RS renaming
export syntax is different from R6RS, however on Sagittarius both can be
accepted.</p>
      <p node-type="paragraph"><code node-type="code">begin</code> starts the library contents. However it can appear more than once.</p>
      <p node-type="paragraph"><code node-type="code">include</code> and <code node-type="code">include-ci</code> includes the files which are specified
<i node-type="i">filenames</i>. <i node-type="i">filenames</i> must be string. This resolves file path from
current loading file. If the library file is /usr/local/lib/lib1.scm, then
search path will be /usr/local/lib. It can also take absolute path.
<code node-type="code">include-ci</code> reads the file case insensitive.</p>
      <p node-type="paragraph"><code node-type="code">cond-exnpand</code> is the same as builtin syntax <code node-type="code">cond-expand</code>. For more
detail, see <a href="section61.html#lib.sagittarius.builtin.syntax">Builtin Syntax</a>.</p>
    </section>
    <p node-type="paragraph" class="navigation-container">
      <a href="./section4.html">R7RS Support</a>
      <a href="../sagittarius-online-ref.html">Top</a>
      <a href="./section42.html">R7RS libraries</a>
    </p>
    <div node-type="section">
      <hr>
      <p node-type="paragraph" class="author footer">This document was generated by <i node-type="i">Takashi Kato</i> with Sagittarius gendoc.<br>Generated date: <i node-type="i">2024-09-09T21:26:28+0200</i></p>
    </div>
  </body>
</html>