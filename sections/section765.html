<html>
  <head>
    <meta charset="utf-8">
    <meta http-eqiv="Content-Type" content="text/html; charset=utf-8">
    <link rel="stylesheet" type="text/css" href="../lib/style.css">
    <title>Sagittarius Users' Reference</title>
  </head>
  <body>
    <p node-type="paragraph" class="navigation-container">
      <a href="./section764.html">(text html-lite) - Simple HTML document builder library</a>
      <a href="../sagittarius-online-ref.html">Top</a>
      <a href="./section766.html">(text json object-builder) -- JSON object builder/serializer</a>
    </p>
    <section node-type="section">
      <h2 node-type="header-2">
        <a name="text.json">(text json) -- JSON parser</a>
      </h2>
      <div node-type="define" class="define">
        <span>Library</span>
        <a name="(text json)_168">
          <span>(text json)</span>
        </a>
      </div>
      <p node-type="paragraph">This library provides JSON parser and writer.</p>
      <div node-type="define" class="define">
        <span>Parameter</span>
        <a name="*json-map-type*_121">
          <span>*json-map-type*</span>
        </a>
      </div>
      <p node-type="paragraph">Controls mapping of JSON map and array. The value must be either
<code node-type="code">'vector</code> or <code node-type="code">'alist</code>. The first one is compatible with Chicken
Scheme's json module, the latter one is compatible with Gauche's
<code node-type="code">rfc.json</code> module. By default, it's set to <code node-type="code">vector</code> for backward
compatibility.</p>
      <p node-type="paragraph">Conversion rules for <code node-type="code">vector</code>:</p>
      <pre lang="scheme" node-type="block"><code>JSON array   &lt;-&gt; list
JSON map     &lt;-&gt; vector
JSON boolean &lt;-&gt; boolean
JSON null    &lt;-&gt; symbol `null`
</code></pre>
      <p node-type="paragraph">Conversion rules for <code node-type="code">alist</code>:</p>
      <pre lang="scheme" node-type="block"><code>JSON array   &lt;-&gt; vector
JSON map     &lt;-&gt; alist
JSON boolean &lt;-&gt; boolean
JSON null    &lt;-&gt; symbol `null`
</code></pre>
      <p node-type="paragraph">This parameter affects the read and write procedures.</p>
      <div node-type="define" class="define">
        <span>Function</span>
        <a name="json-read_29">
          <span>json-read</span>
          <span>  :optional (</span>
          <span>
            <i node-type="i">port</i>
          </span>
          <span>
            <code node-type="code">(current-input-port)</code>
          </span>
          <span>)</span>
        </a>
      </div>
      <p node-type="paragraph">Reads JSON from given <i node-type="i">port</i> and returns representing S-expression.</p>
      <div node-type="define" class="define">
        <span>Function</span>
        <a name="json-write_53">
          <span>json-write</span>
          <span>
            <i node-type="i">json</i>
          </span>
          <span> :optional (</span>
          <span>
            <i node-type="i">port</i>
          </span>
          <span>
            <code node-type="code">(current-output-port)</code>
          </span>
          <span>)</span>
        </a>
      </div>
      <p node-type="paragraph">Writes the given S-expression JSON representing object to given
<i node-type="i">port</i>.</p>
      <div node-type="define" class="define">
        <span>Function</span>
        <a name="json-write/normalized_55">
          <span>json-write/normalized</span>
          <span>
            <i node-type="i">json</i>
          </span>
          <span> :optional (</span>
          <span>
            <i node-type="i">port</i>
          </span>
          <span>
            <code node-type="code">(current-output-port)</code>
          </span>
          <span>)</span>
        </a>
      </div>
      <p node-type="paragraph">Writes the given S-expression JSON representing object to given
<i node-type="i">port</i>.</p>
      <p node-type="paragraph">The written JSON doesn't have excess space.</p>
      <div node-type="define" class="define">
        <span>Function</span>
        <a name="json-read-error?_30">
          <span>json-read-error?</span>
          <span>
            <i node-type="i">obj</i>
          </span>
        </a>
      </div>
      <div node-type="define" class="define">
        <span>Function</span>
        <a name="json-write-error?_54">
          <span>json-write-error?</span>
          <span>
            <i node-type="i">obj</i>
          </span>
        </a>
      </div>
      <p node-type="paragraph">Returns <code node-type="code">#t</code> if the given <i node-type="i">obj</i> is <code node-type="code">&amp;json-read</code> or <code node-type="code">&amp;json-write</code> respectively,
otherwise <code node-type="code">#f</code>.</p>
    </section>
    <p node-type="paragraph" class="navigation-container">
      <a href="./section764.html">(text html-lite) - Simple HTML document builder library</a>
      <a href="../sagittarius-online-ref.html">Top</a>
      <a href="./section766.html">(text json object-builder) -- JSON object builder/serializer</a>
    </p>
    <div node-type="section">
      <hr>
      <p node-type="paragraph" class="author footer">This document was generated by <i node-type="i">Takashi Kato</i> with Sagittarius gendoc.<br>Generated date: <i node-type="i">2024-02-14T14:28:03+0100</i></p>
    </div>
  </body>
</html>