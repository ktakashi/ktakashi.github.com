<html>
  <head>
    <meta charset="utf-8">
    <meta http-eqiv="Content-Type" content="text/html; charset=utf-8">
    <link rel="stylesheet" type="text/css" href="../lib/style.css">
    <title>Sagittarius Users' Reference</title>
  </head>
  <body>
    <p node-type="paragraph" class="navigation-container">
      <a href="./section751.html">(rfc uri) - Parse and construct URIs</a>
      <a href="../sagittarius-online-ref.html">Top</a>
      <a href="./section753.html">(rfc uuid) - UUID generate library</a>
    </p>
    <section node-type="section">
      <h2 node-type="header-2">
        <a name="rfc.uri-template">(rfc uri-template) - URI template</a>
      </h2>
      <div node-type="define" class="define">
        <span>Library</span>
        <a name="(rfc uri-template)_50">
          <span>(rfc uri-template)</span>
        </a>
      </div>
      <p node-type="paragraph">This library provides RFC6570 'URI Template' procedures.</p>
      <div node-type="define" class="define">
        <span>Function</span>
        <a name="parse-uri-template_41">
          <span>parse-uri-template</span>
          <span>
            <i node-type="i">in</i>
          </span>
        </a>
      </div>
      <p node-type="paragraph">Parses the given URI template into S-expression.</p>
      <p node-type="paragraph">The given <i node-type="i">in</i> must be either a textual input port or a string.</p>
      <p node-type="paragraph">The parsed form consists with the following rules:</p>
      <ul node-type="bullet-list">
        <li>
          <p node-type="paragraph">uri-template ::= <code node-type="code">(template-unit)</code></p>
        </li>
        <li>
          <p node-type="paragraph">template-unit ::= <code node-type="code">string</code></p>
        </li>
        <li>
          <p node-type="paragraph">template-unit ::= <code node-type="code">(template)</code></p>
        </li>
        <li>
          <p node-type="paragraph">template ::= <code node-type="code">(operator varaible)</code></p>
        </li>
        <li>
          <p node-type="paragraph">operator ::= <code node-type="code">character</code></p>
        </li>
        <li>
          <p node-type="paragraph">variable ::= <code node-type="code">string</code></p>
        </li>
        <li>
          <p node-type="paragraph">variable ::= <code node-type="code">(string modifier)</code></p>
        </li>
        <li>
          <p node-type="paragraph">modifier ::= <code node-type="code">*</code></p>
        </li>
        <li>
          <p node-type="paragraph">modifier ::= <code node-type="code">positive exact integer</code></p>
        </li>
      </ul>
      <p node-type="paragraph"><i node-type="i">operator</i> must be a valid URI template operator</p>
      <p node-type="paragraph">
        <div node-type="snipet" class="snipet">
          <pre lang="" node-type="snipet"><code>(parse-uri-template "http://{domain*}/{/path}") </code></pre>
          <span />
          <span>(http:// ((domain \*)) / (/ path))</span>
        </div>
      </p>
      <div node-type="define" class="define">
        <span>Function</span>
        <a name="expand-uri-template_58">
          <span>expand-uri-template</span>
          <span>
            <i node-type="i">uri-template</i>
          </span>
          <span>
            <i node-type="i">parameter</i>
          </span>
        </a>
      </div>
      <p node-type="paragraph">Expands the given <i node-type="i">uri-template</i> and returns a string.</p>
      <p node-type="paragraph">The <i node-type="i">parameter</i> must be a vector of pair of string and <i node-type="i">value</i>.</p>
      <p node-type="paragraph">The <i node-type="i">value</i> must be one of the followings:</p>
      <ul node-type="bullet-list">
        <li>
          <p node-type="paragraph">string</p>
        </li>
        <li>
          <p node-type="paragraph">list of string</p>
        </li>
        <li>
          <p node-type="paragraph">vector of pair of string</p>
        </li>
      </ul>
      <p node-type="paragraph">
        <div node-type="snipet" class="snipet">
          <pre lang="" node-type="snipet"><code>(expand-uri-template '((#\? ("keys" *))) '#(("keys" . #(("semi" . ";") ("dot" . ".") ("comma" . ","))))) </code></pre>
          <span />
          <span>?semi=%3B&amp;dot=.&amp;comma=%2C</span>
        </div>
      </p>
    </section>
    <p node-type="paragraph" class="navigation-container">
      <a href="./section751.html">(rfc uri) - Parse and construct URIs</a>
      <a href="../sagittarius-online-ref.html">Top</a>
      <a href="./section753.html">(rfc uuid) - UUID generate library</a>
    </p>
    <div node-type="section">
      <hr>
      <p node-type="paragraph" class="author footer">This document was generated by <i node-type="i">Takashi Kato</i> with Sagittarius gendoc.<br>Generated date: <i node-type="i">2023-06-18T11:03:41+0200</i></p>
    </div>
  </body>
</html>