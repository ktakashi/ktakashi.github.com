<html>
  <head>
    <meta charset="utf-8">
    <meta http-eqiv="Content-Type" content="text/html; charset=utf-8">
    <link rel="stylesheet" type="text/css" href="../lib/style.css">
    <title>Sagittarius Users' Reference</title>
  </head>
  <body>
    <p node-type="paragraph" class="navigation-container">
      <a href="./section614.html">(sagittarius timezone) - Timezone</a>
      <a href="../sagittarius-online-ref.html">Top</a>
      <a href="./section616.html">(sagittarius generators) - Generators</a>
    </p>
    <section node-type="section">
      <h2 node-type="header-2">
        <a name="lib.sagittarius.debug">(sagittarius debug) - Debugging support</a>
      </h2>
      <div node-type="define" class="define">
        <span>Library</span>
        <a name="(sagittarius debug)_86">
          <span>(sagittarius debug)</span>
        </a>
      </div>
      <p node-type="paragraph">This library provides debugging support reader macro.</p>
      <div node-type="define" class="define">
        <span>Reader Macro</span>
        <a name="#?=_1">
          <span>#?=</span>
          <span>
            <i node-type="i">expr</i>
          </span>
        </a>
      </div>
      <p node-type="paragraph">This reader macro reads the next expression as followings;</p>
      <p node-type="paragraph">
        <pre lang="" node-type="snipet"><code>(debug-print _expr_)</code></pre>
      </p>
      <p node-type="paragraph"><code node-type="code">debug-print</code> is an internal macro of this library which prints the
read expression and its result.</p>
      <p node-type="paragraph">Following example shows how to enable this;</p>
      <pre lang="scheme" node-type="block"><code>#!read-macro=sagittarius/debug
#!debug
(let ((a (+ 1 2)))
  #?=(expt a 2))

#|
#?=(expt a 2)
#?-    9
|#
</code></pre>
      <p node-type="paragraph"><code node-type="code">#!debug</code> enables the debug print.</p>
      <div node-type="define" class="define">
        <span>Function</span>
        <a name="macroexpand_0">
          <span>macroexpand</span>
          <span>
            <i node-type="i">expr</i>
          </span>
        </a>
      </div>
      <p node-type="paragraph">Expands given <i node-type="i">expr</i>. The returning value may or may not be used
as proper Scheme expression.</p>
      <div node-type="define" class="define">
        <span>Function</span>
        <a name="macroexpand-1_1">
          <span>macroexpand-1</span>
          <span>
            <i node-type="i">expr</i>
          </span>
        </a>
      </div>
      <div node-type="define" class="define">
        <span>Function</span>
        <a name="macroexpand-n_2">
          <span>macroexpand-n</span>
          <span>
            <i node-type="i">expr</i>
          </span>
          <span>
            <i node-type="i">n</i>
          </span>
        </a>
      </div>
      <p node-type="paragraph">Expands given <i node-type="i">expr</i> <i node-type="i">n</i> times. The first form's <i node-type="i">n</i> is 1.</p>
      <p node-type="paragraph">This procedure expands only globally defined macro and the result of expansion
is other macro such as next rule of <code node-type="code">syntax-rules</code>. It doesn't consider
locally bound macros.</p>
      <p node-type="paragraph">The returning value may or may not be used as proper Scheme expression.</p>
      <p node-type="paragraph">Above 2 procedures are no more than debug aid. Depending on the result of
expansion is not guaranteed to work.</p>
    </section>
    <p node-type="paragraph" class="navigation-container">
      <a href="./section614.html">(sagittarius timezone) - Timezone</a>
      <a href="../sagittarius-online-ref.html">Top</a>
      <a href="./section616.html">(sagittarius generators) - Generators</a>
    </p>
    <div node-type="section">
      <hr>
      <p node-type="paragraph" class="author footer">This document was generated by <i node-type="i">Takashi Kato</i> with Sagittarius gendoc.<br>Generated date: <i node-type="i">2022-09-01T15:20:01+0200</i></p>
    </div>
  </body>
</html>