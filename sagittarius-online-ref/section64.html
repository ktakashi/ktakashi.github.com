<!DOCTYPE html>
<html>
  <head>
    <meta http-eqiv="Content-Type" content="text/html; charset=utf-8">
    <link rel="stylesheet" type="text/css" href="../lib/style.css">
    <title>Sagittarius Users' Reference</title>
  </head>
  <div class="prev-next">
    <a class="prev" href="section63.html">(sagittarius ffi) - Foreign Function Interface</a>
    <a class="top" href="../sagittarius-online-ref.html">Top</a>
    <a class="next" href="section65.html">Sagittarius MOP</a>
  </div>
  <section class="subsection"><h3 class="subsection">
    <a class="section.anchor" name="sagittarius.io"><span class="section-number">6.4</span>(sagittarius io) - Extra IO library</a>
  </h3>
<p /><div class="define">
    <span class="define-category">Library</span>
    <a name="(sagittarius io)1099">
      <span class="name" name="(sagittarius io)">(sagittarius io)</span>
    </a>
  </div>
<div class="desc">This library provided extra IO related procedures.</div>
<p />
<div class="define"><span class="define-category">Function</span><a name="with-input-from-port1100">
    <span class="name" name="with-input-from-port">with-input-from-port</span>
  </a> <span class="args">port thunk</span></div>
<div class="define"><span class="define-category">Function</span><a name="with-output-to-port1101">
    <span class="name" name="with-output-to-port">with-output-to-port</span>
  </a> <span class="args">port thunk</span></div>
<div class="define"><span class="define-category">Function</span><a name="with-error-to-port1102">
    <span class="name" name="with-error-to-port">with-error-to-port</span>
  </a> <span class="args">port thunk</span></div>
<div class="desc">Calls <var>thunk</var>. During evaluation of <var>thunk</var>, the current input
port, current output port, current error port are set to <var>port</var>,
respectively.
</div>
<p /><div class="define"><span class="define-category">Function</span><a name="call-with-input-string1103">
    <span class="name" name="call-with-input-string">call-with-input-string</span>
  </a> <span class="args">str proc</span></div>
<div class="define"><span class="define-category">Function</span><a name="call-with-output-string1104">
    <span class="name" name="call-with-output-string">call-with-output-string</span>
  </a> <span class="args">proc</span></div>
<div class="define"><span class="define-category">Function</span><a name="with-input-from-string1105">
    <span class="name" name="with-input-from-string">with-input-from-string</span>
  </a> <span class="args">str thunk</span></div>
<div class="define"><span class="define-category">Function</span><a name="with-output-to-string1106">
    <span class="name" name="with-output-to-string">with-output-to-string</span>
  </a> <span class="args">thunk</span></div>
<div class="desc">These utility functions are trivially defined as follows;
<p /><pre class="codeblock">(define (call-with-input-string str proc)
  (proc (open-input-string str)))
<p />(define (call-with-output-string proc)
  (let ((port (open-output-string)))
    (proc port)
    (get-output-string port)))
<p />(define (with-input-from-string str thunk)
  (with-input-from-port (open-input-string str) thunk))
<p />(define (with-output-to-string thunk)
  (let ((port (open-output-string)))
    (with-output-to-port port thunk)
    (get-output-string port)))
</pre>
</div>
<p />
</section>
  <div class="prev-next">
    <a class="prev" href="section63.html">(sagittarius ffi) - Foreign Function Interface</a>
    <a class="top" href="../sagittarius-online-ref.html">Top</a>
    <a class="next" href="section65.html">Sagittarius MOP</a>
  </div>
  <hr>
  <div id="document-footer">
    <div id="footer-message">This document was generated by<i>Takashi Kato</i> with Sagittarius gendoc. </div>
    <div id="footer-date">Generated date: <i>2015-03-13T20:04:48+0100</i></div>
  </div>
</html>