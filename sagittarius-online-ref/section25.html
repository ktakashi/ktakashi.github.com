<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-eqiv="Content-Type" content="text/html; charset=utf-8">
    <link rel="stylesheet" type="text/css" href="../lib/style.css">
    <title>Sagittarius Users' Reference</title>
  </head>
  <div class="prev-next">
    <a class="prev" href="section24.html">Writing a library</a>
    <a class="top" href="../sagittarius-online-ref.html">Top</a>
    <a class="next" href="section3.html">R6RS Libraries</a>
  </div>
  <section class="subsection"><h3 class="subsection">
    <a class="section.anchor" name="G26"><span class="section-number">2.5</span>Compiled cache</a>
  </h3>
<p />For better starting time, Sagittarius caches compiled libraries. The cache files
are stored in one of the following environment variables;
<p />For Unix like (POSIX) environment:
<ul class="itemlist">
    <li class="itemlist-item">
      <code>SAGITTARIUS_CACHE_DIR</code>
    </li>
    <li class="itemlist-item">
      <code>HOME</code>
    </li>
  </ul>
<p />For Windows environment:
<ul class="itemlist">
    <li class="itemlist-item">
      <code>SAGITTARIUS_CACHE_DIR</code>
    </li>
    <li class="itemlist-item">
      <code>TEMP</code>
    </li>
    <li class="itemlist-item">
      <code>TMP</code>
    </li>
  </ul>
<p />Sagittarius will use the variables respectively, so if the
<code>SAGITTARIUS_CACHE_DIR</code> is found then it will be used.
<p />The caching compiled file is carefully designed however the cache file might be
stored in broken state. In that case use <code>-c</code> option with
<code>sagittarius</code>, then it will wipe all cache files. If you don't want to use
it, pass <code>-d</code> option then Sagittarius won't use it.
<p /><section class="subsubsection"><h4 class="subsubsection">
    <a class="section.anchor" name="G27"><span class="section-number">2.5.1</span>Precompiling cache file</a>
  </h4>
<p />Users can provide own library with precompile script. The script looks like
this;
<p /><pre class="codeblock">(import (the-library-1)
        (the-library-2))
</pre>
<p />When this script is run, then the libraries will be cached in the cache
directory.
<p />Note: The cache files are stored with the names converted from original library
files' absolute path. So it is important that users' libraries are already
installed before precompiling, otherwise Sagittarius won't use the precompiled
cache files.
<p /></section></section>
  <div class="prev-next">
    <a class="prev" href="section24.html">Writing a library</a>
    <a class="top" href="../sagittarius-online-ref.html">Top</a>
    <a class="next" href="section3.html">R6RS Libraries</a>
  </div>
  <hr>
  <div id="document-footer">
    <div id="footer-message">This document was generated by<i>Takashi Kato</i> with Sagittarius gendoc. </div>
    <div id="footer-date">Generated date: <i>2017-12-22T22:13:46+0100</i></div>
  </div>
</html>