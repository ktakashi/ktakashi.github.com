<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-eqiv="Content-Type" content="text/html; charset=utf-8">
    <link rel="stylesheet" type="text/css" href="../lib/style.css">
    <title>Sagittarius Users' Reference</title>
  </head>
  <div class="prev-next">
    <a class="prev" href="section4.html">R7RS Support</a>
    <a class="top" href="../sagittarius-online-ref.html">Top</a>
    <a class="next" href="section42.html">R7RS libraries</a>
  </div>
  <section class="subsection"><h3 class="subsection">
    <a class="section.anchor" name="G790"><span class="section-number">4.1</span>R7RS library system</a>
  </h3>
<p />On Sagittarius, user can call R7RS libraries on R6RS script and also other way
around. However syntaxes are different. User can choose which syntax use.
<p /><div class="define"><span class="define-category">Syntax</span><a name="define-library791">
    <span class="name" name="define-library">define-library</span>
  </a> <span class="args">name clauses</span></div>
<div class="desc">[R7RS]<var>name</var> must be a list which can only contains symbol or exact
integer.
<p /><var>clauses</var> may be one of these:
<ul class="itemlist">
    <li class="itemlist-item">(<code>export</code> <var>export-spec</var> ...)</li>
    <li class="itemlist-item">(<code>import</code> <var>import-set</var> ...)</li>
    <li class="itemlist-item">(<code>begin</code> <var>command-or-definition</var> ...)</li>
    <li class="itemlist-item">(<code>include</code> <var>filenames</var> ...)</li>
    <li class="itemlist-item">(<code>include-ci</code> <var>filenames</var> ...)</li>
    <li class="itemlist-item">(<code>include-library-declarations</code> <var>filenames</var> ...)</li>
    <li class="itemlist-item">(<code>cond-expand</code> <var>cond-expand-clause</var> ...)</li>
  </ul>
<code>export</code> and <code>import</code> are the same as R6RS. And on R7RS renaming
export syntax is different from R6RS, however on Sagittarius both can be
accepted.
<p /><code>begin</code> starts the library contents. However it can appear more than once.
<p /><code>include</code> and <code>include-ci</code> includes the files which are specified
<var>filenames</var>. <var>filenames</var> must be string. This resolves file path from
current loading file. If the library file is /usr/local/lib/lib1.scm, then
search path will be /usr/local/lib. It can also take absolute path.
<code>include-ci</code> reads the file case insensitive.
<p /><code>cond-exnpand</code> is the same as builtin syntax <code>cond-expand</code>. For more
detail, see <a href="section61.html#lib.sagittarius.builtin.syntax">Builtin Syntax</a>.
</div>
<p /></section>
  <div class="prev-next">
    <a class="prev" href="section4.html">R7RS Support</a>
    <a class="top" href="../sagittarius-online-ref.html">Top</a>
    <a class="next" href="section42.html">R7RS libraries</a>
  </div>
  <hr>
  <div id="document-footer">
    <div id="footer-message">This document was generated by<i>Takashi Kato</i> with Sagittarius gendoc. </div>
    <div id="footer-date">Generated date: <i>2017-05-19T22:47:24+0200</i></div>
  </div>
</html>