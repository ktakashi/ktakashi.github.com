<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-eqiv="Content-Type" content="text/html; charset=utf-8">
    <link rel="stylesheet" type="text/css" href="../lib/style.css">
    <title>Sagittarius Users' Reference</title>
  </head>
  <div class="prev-next">
    <a class="prev" href="section320.html">Enumerations</a>
    <a class="top" href="../sagittarius-online-ref.html">Top</a>
    <a class="next" href="section4.html">R7RS Support</a>
  </div>
  <section class="subsection"><h3 class="subsection">
    <a class="section.anchor" name="rnrs.composite"><span class="section-number">3.21</span>Composite libraries</a>
  </h3>
<p /><section class="subsubsection"><h4 class="subsubsection">
    <a class="section.anchor" name="rnrs.eval.6"><span class="section-number">3.21.1</span>eval</a>
  </h4>
<p /><div class="define">
    <span class="define-category">Library</span>
    <a name="(rnrs eval (6))770">
      <span class="name" name="(rnrs eval (6))">(rnrs eval (6))</span>
    </a>
  </div>
<div class="desc">[R6RS]The <code>(rnrs eval (6))</code> library allows a program to create Scheme
expressions as data at run time and evaluate them.
</div>
<p /><div class="define"><span class="define-category">Function</span><a name="eval771">
    <span class="name" name="eval">eval</span>
  </a> <span class="args">expression environment</span></div>
<div class="desc">[R6RS] Evaluates <var>expression</var> in the specified <var>environment</var> and
returns its value. <var>Expression</var> must be a syntactically valid Scheme
expression represented as a datum value.
<p />R6RS requires <var>envionment</var> an envitonment which must be created by the
<code>environment</code> procedure. However on Sagittarius, <var>environment</var> can be
anything. This behaviour might be fixed in future.
</div>
<p /><div class="define"><span class="define-category">Function</span><a name="environment772">
    <span class="name" name="environment">environment</span>
  </a> <span class="args">import-spec ...</span></div>
<div class="desc">[R6RS] <var>Import-spec</var> must be a datum representing an import spec. The
<code>environment</code> procedure returns an environment corresponding to <var>import-spec</var>.
</div>
<p /></section><section class="subsubsection"><h4 class="subsubsection">
    <a class="section.anchor" name="rnrs.mutable-pairs.6"><span class="section-number">3.21.2</span>Mutable pairs</a>
  </h4>
<p /><div class="define">
    <span class="define-category">Library</span>
    <a name="(rnrs mutable-pairs (6))773">
      <span class="name" name="(rnrs mutable-pairs (6))">(rnrs mutable-pairs (6))</span>
    </a>
  </div>
<div class="desc">[R6RS] This library exports <code>set-car!</code> and <code>set-cdr!</code>.</div>
<p /><div class="define"><span class="define-category">Function</span><a name="set-car!774">
    <span class="name" name="set-car!">set-car!</span>
  </a> <span class="args">pair obj</span></div>
<div class="define"><span class="define-category">Function</span><a name="set-cdr!775">
    <span class="name" name="set-cdr!">set-cdr!</span>
  </a> <span class="args">pair obj</span></div>
<div class="desc">[R6RS] Store <var>obj</var> in the car/cdr field of <var>pair</var>. These procedures
return unspecified value.
<p />On Sagittarius Scheme, these procedures can modify immutable pairs.
</div>
<p /></section><section class="subsubsection"><h4 class="subsubsection">
    <a class="section.anchor" name="rnrs.mutable-strings.6"><span class="section-number">3.21.3</span>Mutable strings</a>
  </h4>
<p /><div class="define">
    <span class="define-category">Library</span>
    <a name="(rnrs mutable-stringss (6))776">
      <span class="name" name="(rnrs mutable-stringss (6))">(rnrs mutable-stringss (6))</span>
    </a>
  </div>
<div class="desc">[R6RS] This library exports <code>string-set!</code> and <code>string-fill!</code>.</div>
<p /><div class="define"><span class="define-category">Function</span><a name="string-set!777">
    <span class="name" name="string-set!">string-set!</span>
  </a> <span class="args">string k char</span></div>
<div class="desc">[R6RS] <var>K</var> must be a valid index of <var>string</var>.
<p />The <code>string-set!</code> procedure stores <var>char</var> in element <var>k</var> of string
and returns unspecified values.
</div>
<p /><div class="define"><span class="define-category">Function</span><a name="string-fill!778">
    <span class="name" name="string-fill!">string-fill!</span>
  </a>
 <span class="args">string char :optional (start 0) (end <code>(string-length <var>string</var>)</code>)</span></div>
<div class="desc">[R6RS+] Stores <var>char</var> in every element of the given <var>string</var> and
returns unspecified values. Optional arguments <var>start</var> and <var>end</var> restrict
the ragne of filling.
<p />Passing an immutable string to these procedures cause an exception with condition
type <code>&amp;assertion</code> to be raised.
</div>
<p /></section><section class="subsubsection"><h4 class="subsubsection">
    <a class="section.anchor" name="rnrs.r5rs.6"><span class="section-number">3.21.4</span>R5RS compatibility</a>
  </h4>
<p /><div class="define">
    <span class="define-category">Library</span>
    <a name="(rnrs r5rs (6))779">
      <span class="name" name="(rnrs r5rs (6))">(rnrs r5rs (6))</span>
    </a>
  </div>
<div class="desc">This library provides R5RS compatibility procedures such as
<code>exact-&gt;inexact</code>.</div>
<p /><div class="define"><span class="define-category">Function</span><a name="exact-&gt;inexect780">
    <span class="name" name="exact-&gt;inexect">exact-&gt;inexect</span>
  </a> <span class="args">z</span></div>
<div class="define"><span class="define-category">Function</span><a name="inexact-&gt;exect781">
    <span class="name" name="inexact-&gt;exect">inexact-&gt;exect</span>
  </a> <span class="args">z</span></div>
<div class="desc">[R6RS] These are the same as the <code>inexact</code> and <code>exact</code> procedures.</div>
<p /><div class="define"><span class="define-category">Function</span><a name="quotient782">
    <span class="name" name="quotient">quotient</span>
  </a> <span class="args">n1 n2</span></div>
<div class="define"><span class="define-category">Function</span><a name="remainder783">
    <span class="name" name="remainder">remainder</span>
  </a> <span class="args">n1 n2</span></div>
<div class="define"><span class="define-category">Function</span><a name="modulo784">
    <span class="name" name="modulo">modulo</span>
  </a> <span class="args">n1 n2</span></div>
<div class="desc">[R6RS] Returns the quotient, remainder and modulo of dividing an integer
<var>n1</var> by an integer <var>n2</var>, respectively. The result is an exact number only
if both <var>n1</var> and <var>n2</var> are exact numbers.
</div>
<p /><div class="define"><span class="define-category">Macro</span><a name="delay785">
    <span class="name" name="delay">delay</span>
  </a> <span class="args">expression</span></div>
<div class="desc">[R6RS] The <code>delay</code> construct is used together with the procedure
<code>force</code> to implement <var>lazy evaluation</var> or <var>call by need</var>.
<code>(delay <var>expression</var>)</code> returns an object called a <var>promise</var> which
at some point in the future may be asked (by the <code>force</code> procedure) to
evaluate expression, and deliver the resulting value. The effect of expression
returning multiple values is unspecified.
</div>
<p /><div class="define"><span class="define-category">Function</span><a name="force786">
    <span class="name" name="force">force</span>
  </a> <span class="args">promise</span></div>
<div class="desc">[R6RS] <var>Promise</var> must be a promise.
<p />The <code>force</code> procedure forces the value of <var>promise</var>. If no value has
been computed for the promise, then a value is computed and returned. The value
of the promise is cached (or "memoized") so that if it is forced a second time,
the previously computed value is returned.
</div>
<p /><div class="define"><span class="define-category">Function</span><a name="null-environment787">
    <span class="name" name="null-environment">null-environment</span>
  </a> <span class="args">n</span></div>
<div class="define"><span class="define-category">Function</span><a name="scheme-report-environment788">
    <span class="name" name="scheme-report-environment">scheme-report-environment</span>
  </a> <span class="args">n</span></div>
<div class="desc">[R6RS] <var>N</var> must be the exact integer object 5. These procedures return
an environment which is suitable to use with <code>eval</code>.
</div>


</section></section>
  <div class="prev-next">
    <a class="prev" href="section320.html">Enumerations</a>
    <a class="top" href="../sagittarius-online-ref.html">Top</a>
    <a class="next" href="section4.html">R7RS Support</a>
  </div>
  <hr>
  <div id="document-footer">
    <div id="footer-message">This document was generated by<i>Takashi Kato</i> with Sagittarius gendoc. </div>
    <div id="footer-date">Generated date: <i>2017-01-20T19:50:45+0100</i></div>
  </div>
</html>