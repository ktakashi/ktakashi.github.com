<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-eqiv="Content-Type" content="text/html; charset=utf-8">
    <link rel="stylesheet" type="text/css" href="../lib/style.css">
    <title>Sagittarius Users' Reference</title>
  </head>
  <div class="prev-next">
    <a class="prev" href="section724.html">(net server) - Simple server framework</a>
    <a class="top" href="../sagittarius-online-ref.html">Top</a>
    <a class="next" href="section726.html">(odbc) - ODBC binding</a>
  </div>
  <section class="subsection"><h3 class="subsection">
    <a class="section.anchor" name="net.socket"><span class="section-number">7.25</span>(net socket) - Modern Socket library</a>
  </h3>
<p /><div class="define">
    <span class="define-category">Library</span>
    <a name="(net socket)2382">
      <span class="name" name="(net socket)">(net socket)</span>
    </a>
  </div>
<div class="desc">Providing, probably, modern socket library.</div>
<p />Most of the bindings defined in this library is identical as
<code>(sagittarius socket)</code>, so this document will describe only the
differences.
<p /><div class="define"><span class="define-category">Function</span><a name="socket-options?2383">
    <span class="name" name="socket-options?">socket-options?</span>
  </a> <span class="args">o</span></div>
<div class="define"><span class="define-category">Function</span><a name="tls-socket-options?2384">
    <span class="name" name="tls-socket-options?">tls-socket-options?</span>
  </a> <span class="args">o</span></div>
<div class="define"><span class="define-category">Function</span><a name="server-tls-socket-options?2385">
    <span class="name" name="server-tls-socket-options?">server-tls-socket-options?</span>
  </a> <span class="args">o</span></div>
<div class="desc">Returns #t if the given <var>o</var> is a <code>socket-options</code>,
<code>tls-socket-options</code>, or <code>server-tls-socket-options</code>, respectively.
<p />The <code>socket-options?</code> returns #t for all 3 types.
</div>
<p /><div class="define"><span class="define-category">Macro</span><a name="socket-options-builder2386">
    <span class="name" name="socket-options-builder">socket-options-builder</span>
  </a> <span class="args">(fields ...)</span></div>
<div class="desc">Builds a socket-options object.
The <code>field</code> must be one or multiple of the followings:
<div class="dl-list-wrapper">
    <dl class="dl-list">
      <dt class="dl-item-title">
        <var>ai-family</var>
      </dt>
      <dd class="dl-item-desc">See <code>ai-family</code> of <code>(sagittarius socket)</code></dd>
      <dt class="dl-item-title">
        <var>ai-socktype</var>
      </dt>
      <dd class="dl-item-desc">See <code>ai-socktype</code> of <code>(sagittarius socket)</code></dd>
      <dt class="dl-item-title">
        <var>ai-flags</var>
      </dt>
      <dd class="dl-item-desc">See <code>ai-flags</code> of <code>(sagittarius socket)</code></dd>
      <dt class="dl-item-title">
        <var>ai-protocol</var>
      </dt>
      <dd class="dl-item-desc">See <code>ai-protocl</code> of <code>(sagittarius socket)</code></dd>
      <dt class="dl-item-title">
        <var>non-blocking?</var>
      </dt>
      <dd class="dl-item-desc">Specifies if the socket is non blocking or not, default #t</dd>
      <dt class="dl-item-title">
        <var>connection-timeout</var>
      </dt>
      <dd class="dl-item-desc">Specifies connection timeout in micro seconds, default #f (infinite)</dd>
      <dt class="dl-item-title">
        <var>read-timeout</var>
      </dt>
      <dd class="dl-item-desc">Specifies read timeout, default #f (infinite) see <code>socket-set-read-timeout!</code> for more details.</dd>
    </dl>
  </div>
</div>
<p /><div class="define"><span class="define-category">Macro</span><a name="tls-socket-options-builder2387">
    <span class="name" name="tls-socket-options-builder">tls-socket-options-builder</span>
  </a> <span class="args">(fields ...)</span></div>
<div class="desc">Builds a tls-socket-options object.
The <code>fields</code> must be the ones from <code>socket-options-builder</code> or
one or multiple of the followings:
<div class="dl-list-wrapper">
    <dl class="dl-list">
      <dt class="dl-item-title">
        <var>handshake</var>
      </dt>
      <dd class="dl-item-desc">Specifes if handshake must be done or not. Default #t</dd>
      <dt class="dl-item-title">
        <var>private-key</var>
      </dt>
      <dd class="dl-item-desc">A client private key</dd>
      <dt class="dl-item-title">
        <var>certificates</var>
      </dt>
      <dd class="dl-item-desc">A list of client certificates, must be specified when <code>private-key</code> is specified</dd>
      <dt class="dl-item-title">
        <var>certificate-verifier</var>
      </dt>
      <dd class="dl-item-desc">A certificate verifier procedure</dd>
      <dt class="dl-item-title">
        <var>sni*</var>
      </dt>
      <dd class="dl-item-desc">A list of server name indicators, a list of string</dd>
      <dt class="dl-item-title">
        <var>alpn*</var>
      </dt>
      <dd class="dl-item-desc">A list of application layer protocol negotiation names</dd>
    </dl>
  </div>
</div>
<div class="define"><span class="define-category">Macro</span><a name="server-tls-socket-options-builder2388">
    <span class="name" name="server-tls-socket-options-builder">server-tls-socket-options-builder</span>
  </a> <span class="args">(fields ...)</span></div>
<div class="desc">Builds a server-tls-socket-options object.
The <code>fields</code> must be the ones from <code>tls-socket-options-builder</code> or
one or multiple of the followings:
<div class="dl-list-wrapper">
    <dl class="dl-list">
      <dt class="dl-item-title">
        <var>client-certificate-required?</var>
      </dt>
      <dd class="dl-item-desc">Specifes if client certificate is required or not. Default #f</dd>
      <dt class="dl-item-title">
        <var>trusted-certificates</var>
      </dt>
      <dd class="dl-item-desc">A list of trusted certificates</dd>
    </dl>
  </div>
</div>
<p /><div class="define"><span class="define-category">Function</span><a name="make-client-socket2389">
    <span class="name" name="make-client-socket">make-client-socket</span>
  </a>
 <span class="args">node service :optional options</span></div>
<div class="desc">Creates a client socket.
This is almost the same as the one from <code>(sagittarius socket)</code>, the only
difference is it takes <var>options</var> to specify extra options, such as
read timeout or connection timeout.
</div>
<p /><div class="define"><span class="define-category">Function</span><a name="make-client-tls-socket2390">
    <span class="name" name="make-client-tls-socket">make-client-tls-socket</span>
  </a>
 <span class="args">node service :optional options</span></div>
<div class="desc">Creates a client socket.
This is almost the same as the one from <code>(rfc tls)</code>, the only
difference is it takes <var>options</var> to specify extra options, such as
client certificate, alpn, etc.
</div>
<p /><div class="define"><span class="define-category">Function</span><a name="make-server-socket2391">
    <span class="name" name="make-server-socket">make-server-socket</span>
  </a>
 <span class="args">node service :optional options</span></div>
<div class="desc">Creates a client socket.
This is almost the same as the one from <code>(sagittarius socket)</code>, the only
difference is it takes <var>options</var> to specify extra options, such as
read timeout or connection timeout.
</div>
<p /><div class="define"><span class="define-category">Function</span><a name="make-server-tls-socket2392">
    <span class="name" name="make-server-tls-socket">make-server-tls-socket</span>
  </a>
 <span class="args">node service :optional options</span></div>
<div class="desc">Creates a client socket.
This is almost the same as the one from <code>(rfc tls)</code>, the only
difference is it takes <var>options</var> to specify extra options, such as
private key, etc.
</div>
<p /><div class="define"><span class="define-category">Function</span><a name="socket-options-&gt;client-socket2393">
    <span class="name" name="socket-options-&gt;client-socket">socket-options-&gt;client-socket</span>
  </a>
 <span class="args">options node service</span></div>
<div class="desc">Creates a client socket from the given <var>options</var>, <var>node</var> and
<var>service</var>.
<p />This is a convenient procedure to make a socket from the options instead
of let user dispatch manually.
</div>

</section>
  <div class="prev-next">
    <a class="prev" href="section724.html">(net server) - Simple server framework</a>
    <a class="top" href="../sagittarius-online-ref.html">Top</a>
    <a class="next" href="section726.html">(odbc) - ODBC binding</a>
  </div>
  <hr>
  <div id="document-footer">
    <div id="footer-message">This document was generated by<i>Takashi Kato</i> with Sagittarius gendoc. </div>
    <div id="footer-date">Generated date: <i>2021-09-10T21:24:49+0200</i></div>
  </div>
</html>